<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khóa học Oracle 12c DBA – Đối thoại Dev & DBA (Interactive)</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230284c7'><path d='M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z'/></svg>">
    <style>
        /* Enhanced variables for better theming and advanced UI */
        :root {
            --blue-50: #f0f9ff;
            --blue-100: #e0f2fe;
            --blue-200: #bae6fd;
            --blue-300: #7dd3fc;
            --blue-400: #38bdf8;
            --blue-500: #0ea5e9;
            --blue-600: #0284c7;
            --blue-700: #0369a1;
            --blue-800: #075985;
            --blue-900: #0c4a6e;
            --indigo-50: #eef2ff;
            --indigo-100: #e0e7ff;
            --indigo-200: #c7d2fe;
            --indigo-300: #a5b4fc;
            --indigo-400: #818cf8;
            --indigo-500: #6366f1;
            --indigo-600: #4f46e5;
            --indigo-700: #4338ca;
            --indigo-800: #3730a3;
            --indigo-900: #312e81;
            --green-50: #f0fdf4;
            --green-100: #dcfce7;
            --green-200: #bbf7d0;
            --green-300: #86efac;
            --green-400: #4ade80;
            --green-500: #22c55e;
            --green-600: #16a34a;
            --green-700: #15803d;
            --green-800: #166534;
            --green-900: #14532d;
            --yellow-50: #fffbeb;
            --yellow-100: #fef3c7;
            --yellow-200: #fde68a;
            --yellow-300: #fcd34d;
            --yellow-400: #fbbf24;
            --yellow-500: #f59e0b;
            --yellow-600: #d97706;
            --yellow-700: #b45309;
            --yellow-800: #92400e;
            --yellow-900: #78350f;
            --red-50: #fef2f2;
            --red-100: #fee2e2;
            --red-200: #fecaca;
            --red-300: #fca5a5;
            --red-400: #f87171;
            --red-500: #ef4444;
            --red-600: #dc2626;
            --red-700: #b91c1c;
            --red-800: #991b1b;
            --red-900: #7f1d1d;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --amber-50: #fff7ed;
            --purple-50: #faf5ff;
            --purple-100: #f3e8ff;
            --purple-200: #e9d5ff;
            --purple-300: #d8b4fe;
            --purple-400: #c084fc;
            --purple-500: #a855f7;
            --purple-600: #9333ea;
            --purple-700: #7c3aed;
            --purple-800: #6b21a8;
            --purple-900: #581c87;
            --emerald-50: #ecfdf5;
            --emerald-100: #d1fae5;
            --emerald-200: #a7f3d0;
            --emerald-300: #6ee7b7;
            --emerald-400: #34d399;
            --emerald-500: #10b981;
            --emerald-600: #059669;
            --emerald-700: #047857;
            --emerald-800: #065f46;
            --emerald-900: #064e3b;
            --rose-50: #fff1f2;
            --rose-100: #ffe4e6;
            --rose-200: #fecdd3;
            --rose-300: #fda4af;
            --rose-400: #fb7185;
            --rose-500: #f43f5e;
            --rose-600: #e11d48;
            --rose-700: #be185d;
            --rose-800: #9f1239;
            --rose-900: #881337;
            
            /* Advanced shadow system */
            --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
            
            /* Animation timing functions */
            --ease-in-out-cubic: cubic-bezier(0.4, 0, 0.2, 1);
            --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
            --ease-in-back: cubic-bezier(0.36, 0, 0.66, -0.56);
            --ease-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #374151;
            background: linear-gradient(180deg, #f9fafb, #fff);
            overflow-x: hidden; /* Prevent horizontal scroll from animations */
        }

        /* Advanced scroll animations */
        @keyframes slideInFromLeft {
            0% {
                opacity: 0;
                transform: translateX(-30px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInFromRight {
            0% {
                opacity: 0;
                transform: translateX(30px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -468px 0;
            }
            100% {
                background-position: 468px 0;
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
            }
            50% {
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.6);
            }
        }

        /* Enhanced particle background animation */
        .hero::before {
            content: "";
            position: absolute;
            inset: -40% -20% auto auto;
            width: 70vw;
            height: 70vw;
            background: radial-gradient(closest-side, rgba(255,255,255,.15), transparent 70%);
            filter: blur(30px);
            transform: rotate(25deg);
            animation: float 6s ease-in-out infinite;
        }

        .hero::after {
            content: "";
            position: absolute;
            top: 10%;
            left: -10%;
            width: 30vw;
            height: 30vw;
            background: radial-gradient(closest-side, rgba(255,255,255,.1), transparent 70%);
            border-radius: 50%;
            filter: blur(20px);
            animation: float 8s ease-in-out infinite reverse;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Enhanced Hero Section with advanced effects */
        .hero {
            background: linear-gradient(135deg, var(--blue-600), var(--indigo-700), var(--purple-600));
            color: #fff;
            padding: 80px 0 60px;
            position: relative;
            overflow: hidden;
            min-height: 60vh;
            display: flex;
            align-items: center;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: clamp(2rem, 5vw, 3.2rem);
            font-weight: 800;
            letter-spacing: -0.02em;
            line-height: 1.1;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, #e0f2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 1s var(--ease-out-back);
        }

        .hero p {
            opacity: 0.95;
            font-size: 1.25rem;
            margin-bottom: 2rem;
            font-weight: 400;
            animation: fadeInUp 1s var(--ease-out-back) 0.2s both;
        }

        .badges {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 2rem;
            animation: fadeInUp 1s var(--ease-out-back) 0.4s both;
        }

        .badge {
            background: rgba(255,255,255,.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,.2);
            padding: 10px 16px;
            border-radius: 999px;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s var(--ease-in-out-cubic);
            cursor: pointer;
        }

        .badge:hover {
            background: rgba(255,255,255,.25);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,.15);
        }

        .hero-wrap {
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: center;
            gap: 40px;
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .hero-wrap {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        .hero-text {
            min-width: 300px;
        }

        .hero-illustration {
            min-width: 280px;
            display: flex;
            justify-content: center;
            animation: fadeInUp 1s var(--ease-out-back) 0.6s both;
        }

        .db-card {
            background: linear-gradient(135deg, rgba(255,255,255,.2), rgba(255,255,255,.1));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,.3);
            border-radius: 24px;
            width: 240px;
            height: 240px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: var(--shadow-2xl);
            transition: all 0.4s var(--ease-out-back);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .db-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
            transition: left 0.5s;
        }

        .db-card:hover {
            transform: translateY(-8px) rotateY(5deg);
            box-shadow: 0 30px 60px rgba(0,0,0,.3);
        }

        .db-card:hover::before {
            left: 100%;
        }

        .db-card svg {
            width: 72px;
            height: 72px;
            color: #fff;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,.2));
            transition: transform 0.3s var(--ease-out-back);
        }

        .db-card:hover svg {
            transform: scale(1.1) rotateY(10deg);
        }

        .db-title {
            font-size: 1.5rem;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,.2);
        }

        .db-sub {
            opacity: 0.9;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0,0,0,.2);
        }

        /* Main Layout */
        .main {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            padding: 36px 0;
        }

        .sidebar {
            flex: 1;
            min-width: 280px;
        }

        .content {
            flex: 2;
            min-width: 300px;
        }

        /* Cards */
        .card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,.06);
            overflow: hidden;
            margin-bottom: 24px;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            background: linear-gradient(90deg, var(--blue-50), var(--indigo-50));
            border-bottom: 1px solid var(--gray-200);
        }

        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--blue-100);
            color: var(--blue-700);
            flex-shrink: 0;
        }

        .card-title {
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .card-body {
            padding: 22px;
        }

        .section-title {
            font-size: 1.35rem;
            font-weight: 800;
            color: var(--gray-900);
            border-bottom: 2px solid var(--blue-100);
            padding-bottom: .5rem;
            margin-bottom: 1rem;
        }

        .content-section {
            margin-bottom: 1.5rem;
        }

        .content-section p {
            margin: .75rem 0;
            font-size: 1.05rem;
        }

        /* --- DIALOGUE STYLING - CHAT INTERFACE --- */
        .dialogue {
            margin: 2rem 0;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .dialogue-item {
            display: flex;
            gap: 12px;
            align-items: flex-end;
            max-width: 85%;
        }
        .dialogue-item::before {
            content: '';
            display: grid;
            place-items: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            flex-shrink: 0;
            font-weight: 600;
            color: #fff;
            font-size: 1rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .dialogue-item .speech-wrap {
            padding: 14px 20px;
            border-radius: 18px;
            position: relative;
        }
        .dev-speech {
            align-self: flex-start;
        }
        /* Ghi đè để dùng Avatar Icon SVG */
        .dev-speech::before {
          content: ""; /* Xóa text cũ */
          background-color: #e0f2fe;
          background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%230284c7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='16 18 22 12 16 6'/><polyline points='8 6 2 12 8 18'/></svg>");
          background-size: 55%;
          background-repeat: no-repeat;
          background-position: center;
        }
        .dev-speech .speech-wrap {
            background: var(--blue-100);
            border-radius: 5px 18px 18px 18px;
        }
        .dba-speech {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        /* Ghi đè để dùng Avatar Icon SVG */
        .dba-speech::before {
          content: ""; /* Xóa text cũ */
          background-color: #dcfce7;
          background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='%2315803d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><ellipse cx='12' cy='5' rx='9' ry='3'/><path d='M21 12c0 1.66-4 3-9 3s-9-1.34-9-3'/><path d='M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5'/></svg>");
          background-size: 55%;
          background-repeat: no-repeat;
          background-position: center;
        }
        .dba-speech .speech-wrap {
            background: var(--green-100);
            border-radius: 18px 5px 18px 18px;
        }
        .speech-content {
            color: var(--gray-800);
            line-height: 1.6;
        }
        .speech-content em {
            font-style: italic;
            color: var(--gray-600);
        }
        .speaker {
            display: none; /* Ẩn đi để không ảnh hưởng */
        }
        
        /* Custom List Styling */
        .styled-list {
            list-style: none;
            padding-left: 0;
            margin-top: 1rem;
        }

        .styled-list li {
            position: relative;
            padding-left: 30px;
            margin-bottom: 0.75rem;
            font-size: 1.02rem;
            line-height: 1.6;
        }

        .styled-list li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 4px;
            width: 20px;
            height: 20px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .highlight-box .styled-list li::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230284c7'%3E%3Cpath fill-rule='evenodd' d='M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z' clip-rule='evenodd' /%3E%3C/svg%3E");
        }
        
        .tips-box .styled-list li::before {
             background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23D97706'%3E%3Cpath fill-rule='evenodd' d='M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z' clip-rule='evenodd' /%3E%3C/svg%3E");
        }

        .warning-box .styled-list li::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f59e0b'%3E%3Cpath fill-rule='evenodd' d='M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.31 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z' clip-rule='evenodd' /%3E%3C/svg%3E");
        }

        /* Highlight boxes */
        .highlight-box, .warning-box, .lesson-box, .tips-box {
            border-left: 4px solid var(--blue-400);
            background: var(--blue-50);
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 14px 0;
        }

        .warning-box {
            border-left-color: var(--yellow-400);
            background: var(--yellow-50);
        }

        .lesson-box {
            border-left-color: var(--yellow-400);
            background: var(--yellow-50);
        }

        .tips-box {
            background: linear-gradient(135deg, var(--yellow-50), var(--amber-50));
            border: 1px solid var(--yellow-200);
            border-left: 4px solid var(--yellow-400);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .tips-box h3 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            color: var(--yellow-900);
            margin: 0 0 16px 0;
        }

        .tips-box h3 svg {
            width: 32px;
            height: 32px;
            flex-shrink: 0;
        }
        
        .highlight-box h4, .warning-box h4, .lesson-box h4, .tips-box h4 {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .highlight-box h4 { color: var(--blue-800); }
        .warning-box h4 { color: var(--yellow-800); }


        /* Code blocks */
        .example-box {
            background: #f8fafc; /* Lighter background */
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            margin: 20px 0;
            overflow: hidden; /* To contain the header */
            box-shadow: 0 2px 8px rgba(0,0,0,.04);
        }

        .example-box-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--gray-50);
            padding: 8px 16px;
            border-bottom: 1px solid var(--gray-200);
        }

        .example-box-title {
            font-family: ui-monospace, Menlo, Consolas, monospace;
            font-size: 0.9rem;
            color: var(--gray-600);
            font-weight: 500;
        }
        
        .copy-button {
            background: var(--gray-200);
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--gray-700);
            transition: background .2s;
            font-family: "Segoe UI", system-ui, sans-serif;
            font-weight: 500;
        }

        .copy-button:hover {
            background: var(--gray-300);
        }

        .copy-button svg {
            width: 16px;
            height: 16px;
        }

        .example-box-content {
            padding: 16px;
            font-family: ui-monospace, Menlo, Consolas, monospace;
            overflow: auto;
            background: #0f172a;
            color: #e2e8f0;
        }

        .example-box-content code {
            white-space: pre;
            font-size: 0.9rem;
        }
        
        /* Basic syntax highlighting */
        .sql-comment { color: #6a9955; }
        .sql-keyword { color: #569cd6; font-weight: 600; }
        .sql-string { color: #ce9178; }
        .sql-number { color: #b5cea8; }
        .sql-function { color: #dcdcaa; }

        /* Navigation */
        .nav {
            list-style: none;
            margin: 0;
            padding: 12px;
        }

        .nav a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 8px;
            color: var(--gray-700);
            text-decoration: none;
            transition: all .2s;
            border: 1px solid transparent;
        }

        .nav a:hover {
            background: var(--gray-50);
            border-color: var(--gray-200);
            transform: translateX(2px);
        }

        .nav .num {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 999px;
            background: var(--gray-100);
            color: var(--gray-600);
            font-weight: 600;
            flex: 0 0 28px;
        }

        .nav a.active {
            background: var(--blue-50);
            border-color: var(--blue-100);
            color: var(--blue-800);
            font-weight: 600;
        }

        .nav a.active .num {
            background: var(--blue-100);
            color: var(--blue-600);
        }

        /* Progress bar */
        .progress {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            border-top: 1px solid var(--gray-200);
            background: var(--gray-50);
        }

        .progress .bar {
            height: 8px;
            background: var(--gray-200);
            border-radius: 999px;
            overflow: hidden;
            width: 58%;
        }

        .progress .fill {
            height: 100%;
            background: linear-gradient(90deg, var(--blue-500), var(--indigo-500));
            width: 14%;
            transition: width .5s ease;
        }

        /* Sticky sidebar */
        .sidebar-sticky {
            position: sticky;
            top: 18px;
        }

        /* Target highlight */
        :target .card-header {
            background: linear-gradient(90deg, var(--green-50), var(--blue-50));
        }

        /* Footer */
        .footer {
            background: var(--gray-50);
            border-top: 1px solid var(--gray-200);
            padding: 28px 0;
            margin-top: 20px;
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
        }

        .footer-brand {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-brand svg {
            width: 22px;
            height: 22px;
            color: var(--blue-600);
        }

        .footer-text {
            color: var(--gray-600);
            font-size: .9rem;
        }

        /* Advanced visual enhancements */
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }

        body.dark-mode .glassmorphism {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Enhanced hero section */
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="0.5" fill="%23ffffff" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>') repeat;
            pointer-events: none;
        }

        /* Improved notification system */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--green-500);
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 10000;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--red-500);
        }

        .notification.warning {
            background: var(--yellow-500);
            color: var(--gray-900);
        }

        /* Advanced loading states */
        .skeleton {
            background: linear-gradient(90deg, var(--gray-200) 25%, var(--gray-100) 50%, var(--gray-200) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Enhanced sidebar with better visual hierarchy */
        .sidebar-sticky::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.1), transparent 70%);
            border-radius: 20px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sidebar:hover .sidebar-sticky::before {
            opacity: 1;
        }

        /* Enhanced typography with better readability */
        .typography-enhanced {
            font-feature-settings: "liga" on, "kern" on;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Improved dialogue system with typing animation */
        .dialogue-item.typing::after {
            content: '|';
            animation: blink 1s infinite;
            color: var(--blue-500);
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Advanced code block features */
        .example-box {
            position: relative;
            overflow: hidden;
        }

        .example-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--blue-500), var(--indigo-500), var(--purple-500));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .example-box:hover::before {
            opacity: 1;
        }

        .code-line-numbers {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: rgba(0,0,0,0.1);
            border-right: 1px solid rgba(255,255,255,0.1);
            font-family: ui-monospace, Menlo, Consolas, monospace;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.5);
            padding: 16px 8px;
            line-height: 1.4;
            counter-reset: line;
        }

        .code-line-numbers::before {
            content: counter(line);
            counter-increment: line;
            display: block;
        }

        /* Enhanced interactive elements */
        .interactive-button {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, var(--blue-600), var(--indigo-600));
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }

        .interactive-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .interactive-button:hover::before {
            left: 100%;
        }

        .interactive-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        /* Advanced progress visualization */
        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 0 auto;
            position: relative;
        }

        .progress-ring svg {
            transform: rotate(-90deg);
            width: 100%;
            height: 100%;
        }

        .progress-ring circle {
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
        }

        .progress-ring .background {
            stroke: var(--gray-200);
        }

        .progress-ring .progress {
            stroke: url(#gradient);
            stroke-dasharray: 283;
            stroke-dashoffset: 283;
            transition: stroke-dashoffset 0.8s ease;
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 10px;
            background: var(--gray-50);
            border-radius: 8px;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--blue-600);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--gray-600);
            margin-top: 4px;
        }

        /* Enhanced search with autocomplete */
        .search-autocomplete {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            max-height: 200px;
            overflow-y: auto;
            z-index: 1001;
            display: none;
        }

        .autocomplete-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid var(--gray-100);
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .autocomplete-item:hover,
        .autocomplete-item.selected {
            background: var(--blue-50);
        }

        .autocomplete-icon {
            width: 16px;
            height: 16px;
            color: var(--gray-400);
        }

        /* Improved tooltip system */
        .tooltip-advanced {
            position: relative;
            display: inline-block;
        }

        .tooltip-advanced .tooltip-content {
            visibility: hidden;
            width: 250px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            text-align: left;
            border-radius: 8px;
            padding: 12px 16px;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: translateY(10px);
            font-size: 0.9rem;
            line-height: 1.4;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .tooltip-advanced .tooltip-content::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: rgba(0, 0, 0, 0.9) transparent transparent transparent;
        }

        .tooltip-advanced:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }

        /* Enhanced responsive breakpoints */
        @media (max-width: 1440px) {
            .container {
                max-width: 1200px;
            }
        }

        @media (max-width: 1200px) {
            .hero-wrap {
                gap: 20px;
            }
            .hero-text {
                flex: 1;
                min-width: 280px;
            }
            .hero-illustration {
                flex: 1;
                min-width: 200px;
            }
        }
        .search-container {
            position: relative;
            margin-bottom: 24px;
        }

        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-box {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: 2px solid var(--gray-200);
            border-radius: 16px;
            font-size: 1rem;
            transition: all 0.3s var(--ease-in-out-cubic);
            background: var(--gray-50);
            backdrop-filter: blur(10px);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--blue-500);
            background: white;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1), var(--shadow-lg);
            transform: translateY(-1px);
        }

        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-400);
            width: 20px;
            height: 20px;
            transition: color 0.3s;
        }

        .search-box:focus + .search-icon {
            color: var(--blue-500);
        }

        .search-filters {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
            animation: fadeInUp 0.6s var(--ease-out-back) 0.2s both;
        }

        .search-filter {
            padding: 6px 12px;
            border: 1px solid var(--gray-300);
            border-radius: 20px;
            font-size: 0.85rem;
            background: white;
            cursor: pointer;
            transition: all 0.2s var(--ease-in-out-cubic);
            user-select: none;
        }

        .search-filter:hover,
        .search-filter.active {
            background: var(--blue-500);
            color: white;
            border-color: var(--blue-500);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border: 1px solid var(--gray-200);
            border-radius: 16px;
            box-shadow: var(--shadow-2xl);
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            margin-top: 8px;
        }

        .search-result-item {
            padding: 16px 20px;
            cursor: pointer;
            border-bottom: 1px solid var(--gray-100);
            transition: all 0.2s var(--ease-in-out-cubic);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .search-result-item:hover {
            background: var(--blue-50);
            transform: translateX(4px);
        }

        .search-result-icon {
            width: 24px;
            height: 24px;
            color: var(--blue-500);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .search-result-content {
            flex: 1;
        }

        .search-result-title {
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .search-result-excerpt {
            font-size: 0.9rem;
            color: var(--gray-600);
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .search-result-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .search-result-tag {
            display: inline-block;
            padding: 2px 8px;
            background: var(--blue-100);
            color: var(--blue-700);
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Interactive Code Playground */
        .code-playground {
            background: linear-gradient(135deg, var(--gray-50), var(--blue-50));
            border: 2px solid var(--blue-200);
            border-radius: 20px;
            padding: 24px;
            margin: 24px 0;
            position: relative;
            overflow: hidden;
        }

        .code-playground::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, var(--blue-100), transparent, var(--purple-100), transparent);
            animation: float 20s linear infinite;
            opacity: 0.3;
            z-index: 0;
        }

        .code-playground-content {
            position: relative;
            z-index: 1;
        }

        .code-playground-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .code-playground-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--gray-900);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .code-playground-tabs {
            display: flex;
            gap: 4px;
        }

        .code-tab {
            padding: 8px 16px;
            border: none;
            background: rgba(255,255,255,0.7);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }

        .code-tab.active {
            background: var(--blue-500);
            color: white;
        }

        .code-editor {
            background: var(--gray-900);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            position: relative;
            overflow: hidden;
        }

        .code-editor::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(90deg, #ff5f56, #ffbd2e, #27ca3f);
            display: flex;
            align-items: center;
            padding: 0 16px;
        }

        .code-input {
            width: 100%;
            min-height: 200px;
            background: transparent;
            border: none;
            color: #e5e7eb;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            resize: vertical;
            outline: none;
            margin-top: 40px;
        }

        .code-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .code-action-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .code-action-btn.primary {
            background: var(--blue-600);
            color: white;
        }

        .code-action-btn.primary:hover {
            background: var(--blue-700);
            transform: translateY(-1px);
        }

        .code-action-btn.secondary {
            background: var(--gray-200);
            color: var(--gray-700);
        }

        .code-action-btn.secondary:hover {
            background: var(--gray-300);
        }

        .code-output {
            background: var(--gray-100);
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            min-height: 100px;
            display: none;
        }

        /* Enhanced progress indicator */
        .progress-circle {
            position: relative;
            width: 60px;
            height: 60px;
            margin: 0 auto 15px;
        }

        .progress-circle svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-circle-bg {
            fill: none;
            stroke: var(--gray-200);
            stroke-width: 4;
        }

        .progress-circle-fill {
            fill: none;
            stroke: var(--blue-500);
            stroke-width: 4;
            stroke-linecap: round;
            stroke-dasharray: 157;
            stroke-dashoffset: 135;
            transition: stroke-dashoffset 0.6s ease;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--blue-600);
        }

        /* Dark mode support */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--gray-200);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
        }

        .theme-toggle:hover {
            background: var(--blue-50);
            border-color: var(--blue-200);
        }

        body.dark-mode {
            --gray-50: #1f2937;
            --gray-100: #374151;
            --gray-200: #4b5563;
            --gray-300: #6b7280;
            --gray-400: #9ca3af;
            --gray-500: #d1d5db;
            --gray-600: #e5e7eb;
            --gray-700: #f3f4f6;
            --gray-800: #f9fafb;
            --gray-900: #ffffff;
            background: #111827;
            color: #f9fafb;
        }

        body.dark-mode .card {
            background: #1f2937;
            border: 1px solid #374151;
        }

        body.dark-mode .search-box {
            background: #1f2937;
            color: #f9fafb;
            border-color: #4b5563;
        }

        body.dark-mode .search-results {
            background: #1f2937;
            border-color: #4b5563;
        }

        /* Enhanced interactive elements */
        .interactive-demo {
            background: linear-gradient(135deg, var(--blue-50), var(--indigo-50));
            border: 2px dashed var(--blue-200);
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .interactive-demo:hover {
            background: linear-gradient(135deg, var(--blue-100), var(--indigo-100));
            border-color: var(--blue-300);
            transform: translateY(-2px);
        }

        .demo-button {
            background: var(--blue-600);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 8px;
        }

        .demo-button:hover {
            background: var(--blue-700);
            transform: translateY(-1px);
        }

        /* Loading animations */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray-300);
            border-radius: 50%;
            border-top-color: var(--blue-600);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Floating action buttons */
        .fab-container {
            position: fixed;
            right: 20px;
            bottom: 20px;
            z-index: 1000;
        }

        .fab {
            width: 56px;
            height: 56px;
            background: var(--blue-600);
            border: none;
            border-radius: 50%;
            color: white;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fab:hover {
            background: var(--blue-700);
            transform: scale(1.1);
        }

        .fab.scroll-top {
            opacity: 0;
            transform: scale(0);
        }

        .fab.scroll-top.visible {
            opacity: 1;
            transform: scale(1);
        }

        /* Enhanced tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px 12px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Improved code syntax highlighting */
        .sql-keyword { color: #0969da; font-weight: 600; }
        .sql-string { color: #032f62; }
        .sql-comment { color: #6a737d; font-style: italic; }
        .sql-number { color: #005cc5; }
        .sql-function { color: #6f42c1; }

        body.dark-mode .sql-keyword { color: #79c0ff; }
        body.dark-mode .sql-string { color: #a5d6ff; }
        body.dark-mode .sql-comment { color: #8b949e; }
        body.dark-mode .sql-number { color: #79c0ff; }
        body.dark-mode .sql-function { color: #d2a8ff; }

        /* Scroll to top */
        .scroll-top {
            position: fixed;
            right: 18px;
            bottom: 18px;
            background: rgba(255,255,255,.9);
            backdrop-filter: blur(6px);
            width: 44px;
            height: 44px;
            border-radius: 999px;
            display: grid;
            place-items: center;
            border: 1px solid var(--gray-200);
            box-shadow: 0 6px 18px rgba(0,0,0,.12);
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
        }

        .scroll-top.visible {
            opacity: 1;
            animation: pulse 2s infinite;
        }

        .scroll-top svg {
            width: 20px;
            height: 20px;
            color: var(--blue-600);
        }

        @keyframes pulse {
            0% {
                transform: scale(0.98);
                box-shadow: 0 0 0 0 rgba(2, 132, 199, 0.7);
            }
            70% {
                transform: scale(1.02);
                box-shadow: 0 0 0 10px rgba(2, 132, 199, 0);
            }
            100% {
                transform: scale(0.98);
                box-shadow: 0 0 0 0 rgba(2, 132, 199, 0);
            }
        }
        
        /* Enhanced responsive design */
        @media (max-width: 1024px) {
            .hero-wrap {
                flex-direction: column;
                text-align: center;
            }
            .hero-illustration {
                margin-top: 2rem;
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            .section-title {
                font-size: 1.2rem;
            }
            .main {
                flex-direction: column;
                padding: 20px 0;
            }
            .sidebar {
                order: 2;
            }
            .content {
                order: 1;
            }
            .theme-toggle {
                top: 10px;
                right: 10px;
                width: 44px;
                height: 44px;
            }
            .fab-container {
                right: 15px;
                bottom: 15px;
            }
            .fab {
                width: 48px;
                height: 48px;
            }
            .search-container {
                margin-bottom: 15px;
            }
            .dialogue-item {
                max-width: 95%;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            .hero {
                padding: 40px 0 30px;
            }
            .hero h1 {
                font-size: 1.6rem;
            }
            .badges {
                justify-content: center;
            }
            .badge {
                font-size: 0.8rem;
                padding: 6px 10px;
            }
        }

        /* Learning path visualization */
        .learning-path {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, var(--blue-50), var(--indigo-50));
            border-radius: 12px;
            border: 1px solid var(--blue-100);
        }

        .path-step {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 16px;
            border-radius: 10px;
            background: white;
            border: 2px solid var(--gray-200);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .path-step:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .path-step.completed {
            border-color: var(--green-300);
            background: var(--green-50);
        }

        .path-step.current {
            border-color: var(--blue-400);
            background: var(--blue-50);
            animation: currentStep 2s infinite;
        }

        @keyframes currentStep {
            0%, 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(59, 130, 246, 0); }
        }

        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .path-step.completed .step-icon {
            background: var(--green-500);
            color: white;
        }

        .path-step.current .step-icon {
            background: var(--blue-500);
            color: white;
        }

        .path-step:not(.completed):not(.current) .step-icon {
            background: var(--gray-200);
            color: var(--gray-600);
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 4px;
        }

        .step-desc {
            font-size: 0.9rem;
            color: var(--gray-600);
        }

        /* Interactive tips */
        .tip-interactive {
            transition: all 0.3s ease;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
        }

        .tip-interactive:hover {
            background: var(--blue-50);
            transform: translateX(5px);
        }

        .tip-interactive.highlighted {
            background: var(--yellow-100);
            border-left: 4px solid var(--yellow-500);
            animation: tipHighlight 0.5s ease;
        }

        @keyframes tipHighlight {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        /* Architecture diagram */
        .architecture-diagram {
            background: #fff;
            border: 2px dashed var(--gray-200);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .arch-component {
            display: inline-block;
            background: var(--blue-100);
            color: var(--blue-800);
            padding: 8px 12px;
            border-radius: 6px;
            margin: 4px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .arch-container {
            background: var(--indigo-100);
            color: var(--indigo-800);
        }

        .arch-process {
            background: var(--green-100);
            color: var(--green-800);
        }

        .arch-file {
            background: var(--yellow-100);
            color: var(--yellow-800);
        }
        
        /* --- RECTANGLE BOX STYLING --- */
        .rect-box{
          display:inline-block;
          padding:8px 12px;
          border:1px solid #e5e7eb;
          background:#fff;
          border-radius:8px;
          font-weight:600;
          box-shadow:0 1px 3px rgba(0,0,0,.05);
          margin:4px;
          font-size: 0.9rem;
        }
        .rect-box--blue{ background:#e0f2fe; color:#075985; border-color:#bae6fd; }
        .rect-box--indigo{ background:#e0e7ff; color:#3730a3; border-color:#c7d2fe; }
        .rect-box--green{ background:#dcfce7; color:#166534; border-color:#bbf7d0; }
        .rect-box--yellow{ background:#fef3c7; color:#92400e; border-color:#fde68a; }

        /* Info grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 14px;
            margin: 1rem 0;
        }

        .info-card {
            background: #fff;
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 14px;
            box-shadow: 0 1px 3px rgba(0,0,0,.04);
        }

        .info-card h4 {
            font-weight: 700;
            margin-bottom: .4rem;
            color: var(--gray-800);
        }

        .info-card p, .info-card ul {
            color: var(--gray-600);
            font-size: 0.95rem;
        }

        /* Sidebar tips list */
        .tips-card-list {
            list-style: none;
            padding-left: 0;
        }
        .tips-card-list li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        .tips-card-list li svg {
            width: 20px;
            height: 20px;
            color: var(--green-500);
            flex-shrink: 0;
            margin-top: 2px;
        }

    </style>
</head>
<body id="top">
    <!-- Theme Toggle -->
    <div class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">
        <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
    </div>
    <!-- HERO -->
    <section class="hero">
        <div class="container">
            <div class="hero-wrap">
                <div class="hero-text typography-enhanced">
                    <h1>Khóa học Oracle 12c DBA qua đối thoại</h1>
                    <p>Từ Developer đến Database Administrator – lộ trình ~100 giờ, thực chiến, học bằng đối thoại Dev & DBA.</p>
                    <div class="badges">
                        <span class="badge tooltip-advanced" data-tooltip="Học tập linh hoạt với thời gian tự do">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16"><path d="M8.5 2a.5.5 0 0 0-1 0v5.5H2a.5.5 0 0 0 0 1h5.5V14a.5.5 0 0 0 1 0V8.5H14a.5.5 0 0 0 0-1H8.5V2Z" /></svg>
                            <span class="loading-dots">100 giờ học</span>
                            <div class="tooltip-content">
                                <strong>Lộ trình học tập toàn diện</strong><br>
                                • 7 chương từ cơ bản đến nâng cao<br>
                                • Thực hành với Oracle 12c thật<br>
                                • Bài tập và case study thực tế
                            </div>
                        </span>
                        <span class="badge tooltip-advanced" data-tooltip="Kiến trúc mới nhất của Oracle">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16"><path d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 12.5 2h-9ZM3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-9ZM5 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5A.5.5 0 0 1 5 7.5Zm.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2Z" /></svg>
                            CDB/PDB Multitenant
                            <div class="tooltip-content">
                                <strong>Oracle 12c Multitenant Architecture</strong><br>
                                • Container Database (CDB)<br>
                                • Pluggable Database (PDB)<br>
                                • Resource sharing và scalability
                            </div>
                        </span>
                        <span class="badge tooltip-advanced" data-tooltip="Performance tuning và optimization">
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" width="16" height="16"><path d="M8 1a.5.5 0 0 1 .5.5v1.513a4.502 4.502 0 0 1 3.58 1.417l1.07-1.07a.5.5 0 0 1 .708.708l-1.07 1.07A4.502 4.502 0 0 1 13.987 8H15.5a.5.5 0 0 1 0 1h-1.513a4.502 4.502 0 0 1-1.417 3.58l1.07 1.07a.5.5 0 0 1-.708.708l-1.07-1.07A4.502 4.502 0 0 1 8 13.987V15.5a.5.5 0 0 1-1 0v-1.513a4.502 4.502 0 0 1-3.58-1.417l-1.07 1.07a.5.5 0 0 1-.708-.708l1.07-1.07A4.502 4.502 0 0 1 2.013 9H.5a.5.5 0 0 1 0-1h1.513A4.502 4.502 0 0 1 4.42 4.42L3.35 3.35a.5.5 0 0 1 .708-.708l1.07 1.07A4.502 4.502 0 0 1 8 2.013V.5a.5.5 0 0 1 .5-.5ZM6 8a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z" /></svg>
                            Tối ưu & Backup
                            <div class="tooltip-content">
                                <strong>Performance & Backup Mastery</strong><br>
                                • SQL tuning và execution plans<br>
                                • RMAN backup strategies<br>
                                • Point-in-time recovery
                            </div>
                        </span>
                    </div>
                    
                    <!-- Action buttons -->
                    <div class="hero-actions" style="margin-top: 24px;">
                        <button class="interactive-button" onclick="scrollToSection('#s1')">
                            🚀 Bắt đầu học ngay
                        </button>
                        <button class="interactive-button" onclick="showDemo('overview')" style="background: rgba(255,255,255,0.2); margin-left: 12px;">
                            📺 Xem demo
                        </button>
                    </div>
                </div>
                <div class="hero-illustration">
                    <div class="db-card glassmorphism" aria-hidden="true" onclick="animateCard(this)">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="db-icon">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"/>
                        </svg>
                        <div class="db-title">Oracle 12c</div>
                        <div class="db-sub">DBA Master</div>
                        <div class="db-stats" style="margin-top: 12px; font-size: 0.8rem; opacity: 0.9;">
                            <div>7 Chapters</div>
                            <div>100+ Examples</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container main">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-sticky">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 6.253v13m0-13C10.8 5.5 9.25 5 7.5 5S4.2 5.5 3 6.25v13C4.2 18.5 5.75 18 7.5 18s3.3.5 4.5 1.25m0-13C13.2 5.5 14.75 5 16.5 5c1.75 0 3.3.5 4.5 1.25v13C19.8 18.5 18.25 18 16.5 18c-1.75 0-3.3.5-4.5 1.25"/>
                            </svg>
                        </div>
                        <div class="card-title">Nội dung khóa học</div>
                    </div>
                    <div class="card-body">
                        <!-- Search functionality -->
                        <div class="search-container">
                            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                            <input type="text" class="search-box" placeholder="Tìm kiếm nội dung..." id="searchInput" oninput="searchContent()">
                            <div class="search-results" id="searchResults"></div>
                        </div>
                        
                        <ul class="nav" id="toc">
                            <li><a href="#s1" data-section="1" onclick="updateProgress(1)"><span class="num">1</span> Giới thiệu & Mở đầu</a></li>
                            <li><a href="#s2" data-section="2" onclick="updateProgress(2)"><span class="num">2</span> Kiến trúc Oracle 12c</a></li>
                            <li><a href="#s3" data-section="3" onclick="updateProgress(3)"><span class="num">3</span> Cài đặt & Kết nối</a></li>
                            <li><a href="#s4" data-section="4" onclick="updateProgress(4)"><span class="num">4</span> Schema & Tablespace</a></li>
                            <li><a href="#s5" data-section="5" onclick="updateProgress(5)"><span class="num">5</span> Tối ưu SQL & Performance</a></li>
                            <li><a href="#s6" data-section="6" onclick="updateProgress(6)"><span class="num">6</span> Backup & Recovery</a></li>
                            <li><a href="#s7" data-section="7" onclick="updateProgress(7)"><span class="num">7</span> Tư duy Dev vs DBA</a></li>
                        </ul>
                    </div>
                    <div class="progress">
                        <div class="progress-ring">
                            <svg>
                                <defs>
                                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" stop-color="var(--blue-500)" />
                                        <stop offset="100%" stop-color="var(--indigo-500)" />
                                    </linearGradient>
                                </defs>
                                <circle class="background" cx="60" cy="60" r="45"></circle>
                                <circle class="progress" cx="60" cy="60" r="45" id="progressRing"></circle>
                            </svg>
                            <div class="progress-text" id="progress-percent" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-weight: 700; font-size: 1.1rem; color: var(--blue-600);">14%</div>
                        </div>
                        
                        <div class="progress-stats">
                            <div class="stat-item">
                                <div class="stat-number" id="completed-chapters">1</div>
                                <div class="stat-label">Chương</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="study-time">12</div>
                                <div class="stat-label">Giờ</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="completion-rate">85</div>
                                <div class="stat-label">%</div>
                            </div>
                        </div>
                        
                        <div class="label" style="text-align: center; margin-top: 15px; font-weight: 600;">Tiến độ học tập</div>
                    </div>
                </div>

                <div class="card glassmorphism">
                    <div class="card-header">
                        <div class="card-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                        <div class="card-title">Mẹo học tập thông minh</div>
                    </div>
                    <div class="card-body">
                        <div class="learning-path">
                            <div class="path-step completed" data-step="1">
                                <div class="step-icon">✓</div>
                                <div class="step-content">
                                    <div class="step-title">Cơ bản</div>
                                    <div class="step-desc">Kiến trúc & Cài đặt</div>
                                </div>
                            </div>
                            <div class="path-step current" data-step="2">
                                <div class="step-icon">📚</div>
                                <div class="step-content">
                                    <div class="step-title">Trung cấp</div>
                                    <div class="step-desc">Schema & Performance</div>
                                </div>
                            </div>
                            <div class="path-step" data-step="3">
                                <div class="step-icon">🎆</div>
                                <div class="step-content">
                                    <div class="step-title">Nâng cao</div>
                                    <div class="step-desc">Backup & Collaboration</div>
                                </div>
                            </div>
                        </div>
                        
                        <ul class="tips-card-list">
                            <li class="tip-interactive" onclick="highlightTip(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
                                <span>Học từng phần, thực hành ngay</span>
                            </li>
                            <li class="tip-interactive" onclick="highlightTip(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
                                <span>Luôn xem execution plan, tránh <code>SELECT *</code></span>
                            </li>
                            <li class="tip-interactive" onclick="highlightTip(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
                                <span>"Backup is Job #1"</span>
                            </li>
                            <li class="tip-interactive" onclick="highlightTip(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
                                <span>Hiểu rõ CDB/PDB & ServiceName khi kết nối</span>
                            </li>
                            <li class="tip-interactive" onclick="highlightTip(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" /></svg>
                                <span>Tư duy như DBA: hiệu năng trước tiên</span>
                            </li>
                        </ul>
                        
                        <div class="tip-of-day" style="margin-top: 20px; padding: 15px; background: linear-gradient(135deg, var(--yellow-50), var(--orange-50)); border-radius: 10px; border-left: 4px solid var(--orange-400);">
                            <div style="font-weight: 600; color: var(--orange-800); margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                                💡 Tip hôm nay
                                <button onclick="getRandomTip()" style="background: none; border: none; cursor: pointer; color: var(--orange-600);" title="Tip ngẫu nhiên">
                                    🎲
                                </button>
                            </div>
                            <div id="daily-tip" style="color: var(--orange-700); font-size: 0.9rem; line-height: 1.4;">
                                Hãy luôn kiểm tra execution plan trước khi deploy SQL vào production!
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- CONTENT -->
        <main class="content">
            <!-- S1: Giới thiệu & Mở đầu -->
            <section class="card" id="s1">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 6.253v13M7.5 5C5.75 5 4.17 5.48 3 6.25v13C4.17 18.48 5.75 18 7.5 18s3.33.48 4.5 1.25"/>
                        </svg>
                    </div>
                    <div class="card-title">1. Giới thiệu & Mở đầu</div>
                </div>
                <div class="card-body">
                    <p>Chào mừng bạn đến với <strong style="color:var(--blue-700)">Oracle 12c DBA qua đối thoại</strong> – trình bày dưới dạng trò chuyện giữa Dev và một DBA nhiều kinh nghiệm. Mục tiêu: tư duy như DBA và nắm vững từ kiến trúc, cài đặt/kết nối, quản trị schema/tablespace, tối ưu SQL, đến backup & recovery và hợp tác Dev–DBA.</p>
                    
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    <em>(Háo hức)</em> Em chào anh! Em là lập trình viên nhưng đang muốn chuyển hướng sang làm DBA Oracle 12c. Nghe nói phải học nhiều lắm, chắc tầm vài tuần?
                                </div>
                            </div>
                        </div>
                        
                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    <em>(Cười)</em> Chào em. Ừ, hành trình trở thành DBA không ngắn đâu – khóa học này dự kiến khoảng <strong>100 giờ</strong> đấy!
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">100 giờ lận ạ?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Đúng rồi, làm DBA không dễ đâu em. Chúng ta phải đi từ những khái niệm nền tảng nhất đến các kỹ thuật nâng cao. Nhưng đừng lo, anh sẽ hướng dẫn từng bước, kiểu trò chuyện thoải mái. Em cứ hình dung như nghe podcast giữa hai anh em mình vậy.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Ngon quá, dạng trao đổi thế này dễ tiếp thu hơn hẳn. Em sẵn sàng rồi anh ơi!</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Tốt. Mục tiêu của khóa này là giúp em <strong>tư duy như một DBA</strong>, hiểu rõ Oracle 12c từ gốc đến ngọn: từ <strong>kiến trúc, cài đặt, kết nối, vận hành, đến quản lý schema, quyền hạn, tablespace, rồi tối ưu truy vấn, sao lưu & phục hồi, điều chỉnh hiệu năng</strong>. Đồng thời anh sẽ chỉ ra sự khác biệt giữa cách nghĩ của Dev và DBA, cũng như những lỗi "kinh điển" mà dev hay mắc phải.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>Tại sao nên học Oracle DBA?</h4>
                        <ul class="styled-list">
                            <li>Oracle là hệ quản trị CSDL doanh nghiệp phổ biến trong ngân hàng, tài chính, chính phủ.</li>
                            <li>Học qua đối thoại & ví dụ thực chiến giúp đi từ nền tảng đến nâng cao hiệu quả.</li>
                            <li>Với kiến trúc đa tenant mới của 12c, đây là cơ hội tuyệt vời để nắm vững công nghệ tiên tiến.</li>
                        </ul>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🚀 Lộ trình học tập</h4>
                            <p>7 chương từ cơ bản đến nâng cao, mỗi chương có thực hành và bài tập thực tế</p>
                        </div>
                        <div class="info-card">
                            <h4>⏱️ Thời lượng</h4>
                            <p>~100 giờ học tập, bao gồm lý thuyết, thực hành và giải đáp thắc mắc</p>
                        </div>
                        <div class="info-card">
                            <h4>🎯 Đối tượng</h4>
                            <p>Developer muốn chuyển DBA, DBA junior cần nâng cao, sysadmin làm việc với Oracle</p>
                        </div>
                        <div class="info-card">
                            <h4>📋 Yêu cầu</h4>
                            <p>Biết SQL cơ bản, hiểu khái niệm database, có tinh thần học hỏi và kiên nhẫn</p>
                        </div>
                    </div>

                    <div class="interactive-demo">
                        <h4>🎮 Thử ngay trình mô phỏng Oracle</h4>
                        <p>Trải nghiệm các lệnh Oracle 12c trực tiếp trên trình duyệt</p>
                        <div style="margin-top: 15px;">
                            <button class="demo-button" onclick="showDemo('architecture')">
                                🏢 Kiến trúc CDB/PDB
                            </button>
                            <button class="demo-button" onclick="showDemo('sql')">
                                📊 SQL Performance
                            </button>
                            <button class="demo-button" onclick="showDemo('backup')">
                                💾 Backup & Recovery
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- S2: Kiến trúc Oracle 12c -->
            <section class="card" id="s2">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7l9-4 9 4-9 4-9-4zM3 7v10l9 4 9-4V7"/>
                        </svg>
                    </div>
                    <div class="card-title">2. Kiến trúc Oracle 12c: Từ đơn nhân đến đa tenant</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Trước giờ em làm web với MySQL, thường mỗi ứng dụng một database đơn giản. Oracle 12c nghe nói kiến trúc khác hẳn, có cả "container" gì đó? Anh giải thích giúp em với.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Đúng rồi. Oracle 12c giới thiệu một <strong>kiến trúc hoàn toàn mới gọi là Multitenant (đa tenant)</strong> – thay đổi lớn nhất kể từ Oracle 8i luôn. Thay vì mỗi cơ sở dữ liệu (CSDL) là một thực thể độc lập hoàn toàn với <strong>một instance riêng</strong> (instance = bộ nhớ SGA + các process nền), từ 12c ta có thể tạo CSDL dạng <strong>"đa tenant"</strong>. Nôm na là một <strong>Container Database (CDB)</strong> chứa nhiều <strong>Pluggable Database (PDB)</strong> bên trong.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">Container với Pluggable? Nó khác gì so với cách cũ anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Để anh so sánh: Ở các phiên bản cũ (như 11g trở về trước), nếu em muốn chạy 2 CSDL trên một máy thì phải khởi tạo 2 instance riêng, mỗi cái có đủ bộ nhớ SGA, tiến trình nền (DBWR, LGWR, v.v.). Tài nguyên bị chia nhỏ ra và nhiều thành phần trùng lặp. 12c giải quyết bằng cách cho nhiều <strong>"CSDL con" (PDB)</strong> chạy trong cùng một <strong>CSDL cha (CDB)</strong> dùng chung instance.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">À, ví dụ hay đó anh – nhiều người đi chơi thay vì đi 5 xe thì gộp đi 1 xe 16 chỗ cho tiết kiệm.</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Chính xác. Với kiến trúc mới:<br><br>
                                    • <strong>CDB</strong> có các thành phần chung: SGA (bộ nhớ), background processes, datafile chung cho metadata của container (gọi là dictionary chung).<br>
                                    • <strong>Mỗi PDB</strong> chứa dữ liệu ứng dụng riêng, có datafiles riêng, nhưng <strong>dùng chung</strong> tài nguyên CDB.<br><br>
                                    Nghĩa là thay vì 5 CSDL độc lập tranh giành tài nguyên, giờ chỉ 1 instance "kéo" cả 5 PDB, giảm bớt trùng lặp (ví dụ chỉ có một DBWR, một LGWR dùng chung). <strong>Việc quản trị</strong> cũng nhẹ nhàng hơn: vá lỗi, nâng cấp chỉ làm trên CDB là các PDB hưởng hết, khỏi lặp lại 5 lần.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="architecture-diagram">
                        <h4 style="margin-bottom: 16px;">Kiến trúc Oracle 12c Multitenant</h4>
<div style="margin-bottom: 12px;">
    <span class="rect-box rect-box--indigo">CDB Root</span>
    <span class="rect-box rect-box--indigo">PDB$SEED</span>
</div>
<div style="margin-bottom: 12px;">
    <span class="rect-box rect-box--blue">PDB1 (HR_APP)</span>
    <span class="rect-box rect-box--blue">PDB2 (SALES_APP)</span>
    <span class="rect-box rect-box--blue">PDB3 (FINANCE_APP)</span>
</div>
<div style="margin-bottom: 12px;">
    <span class="rect-box rect-box--green">SGA (Shared)</span>
    <span class="rect-box rect-box--green">Background Processes</span>
</div>
<div>
    <span class="rect-box rect-box--yellow">Control Files</span>
    <span class="rect-box rect-box--yellow">Redo Logs</span>
    <span class="rect-box rect-box--yellow">Data Files</span>
</div>
                    </div>

                    <div class="highlight-box">
                        <h4>🔑 Lợi ích của Multitenant Architecture</h4>
                        <ul class="styled-list">
                            <li><strong>Tiết kiệm tài nguyên:</strong> Dùng chung SGA, background processes</li>
                            <li><strong>Quản lý dễ dàng:</strong> Patch, upgrade một lần cho tất cả PDB</li>
                            <li><strong>Cô lập dữ liệu:</strong> Mỗi PDB có schema và dữ liệu riêng biệt</li>
                            <li><strong>Khả năng mở rộng:</strong> Có thể tạo, xóa, di chuyển PDB linh hoạt</li>
                        </ul>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Vậy 12c có 2 chế độ: non-CDB (kiểu cũ) và CDB (đa tenant)?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Đúng. Khi cài đặt Oracle 12c em có thể chọn tạo database kiểu cũ (non-CDB) hoặc dạng CDB có PDB. Thực tế Oracle định hướng multitenant là tương lai.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Ngoài vụ multitenant, kiến trúc Oracle chắc còn nhiều thứ khác? Anh nói qua giúp em hệ thống nó gồm những phần gì với.</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Oke. Kiến trúc Oracle gồm 2 thành phần chính: <strong>Instance</strong> và <strong>Database</strong>.<br><br>
                                    <strong>Instance:</strong> là phần chạy trong memory (RAM), gồm <strong>SGA (System Global Area)</strong> và các <strong>background process</strong>. SGA chứa các vùng nhớ dùng chung (như buffer cache để cache dữ liệu, shared pool cache câu lệnh SQL, v.v.), các process nền thì bao gồm: DBWR (ghi buffer cache xuống đĩa), LGWR (ghi nhật ký giao dịch – redo log), CKPT (đánh dấu checkpoint), SMON, PMON (quản lý session, recovery...), v.v.<br><br>
                                    <strong>Database (CSDL):</strong> là tập hợp các tệp tin vật lý trên đĩa: bao gồm <strong>data files</strong> (chứa dữ liệu bảng, index), <strong>control file</strong> (lưu thông tin cấu trúc CSDL, checkpoint, v.v.), <strong>redo log files</strong> (nhật ký giao dịch để khôi phục khi cần). Oracle lưu mọi thứ quan trọng vào các file này. Khi instance hoạt động, nó mở các file đó lên.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Vậy instance + data files = một database hoạt động.</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Đúng. Đó là khái niệm cơ bản: <strong>Instance (SGA+process) mount database (mở các file)</strong>. Khi em lệnh <strong>startup</strong>, Oracle sẽ khởi tạo instance (<strong>nomount</strong>), sau đó mount controlfile (<strong>mount</strong>), rồi open datafiles (<strong>open</strong>).
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="example-box">
                        <div class="example-box-header">
                            <span class="example-box-title">SQL: Các trạng thái khởi động</span>
                            <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Các trạng thái khởi động Oracle</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">STARTUP</span> <span class="sql-keyword">NOMOUNT</span>;    <span class="sql-comment">-- Chỉ khởi tạo instance (SGA + processes)</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">ALTER</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">MOUNT</span>;  <span class="sql-comment">-- Mount control file</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">ALTER</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">OPEN</span>;   <span class="sql-comment">-- Mở data files để user truy cập</span>

<span class="sql-comment">-- Hoặc gọi gộp:</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">STARTUP</span>;  <span class="sql-comment">-- Tự động qua 3 giai đoạn trên</span></code></div>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🧠 SGA (System Global Area)</h4>
                            <p>Vùng nhớ dùng chung cho tất cả processes: Buffer Cache, Shared Pool, Java Pool, Large Pool</p>
                        </div>
                        <div class="info-card">
                            <h4>👤 PGA (Program Global Area)</h4>
                            <p>Vùng nhớ riêng cho mỗi server process: Sort Area, Session Memory, Private SQL Area</p>
                        </div>
                        <div class="info-card">
                            <h4>⚙️ Background Processes</h4>
                            <p>DBWR (Database Writer), LGWR (Log Writer), CKPT (Checkpoint), SMON, PMON</p>
                        </div>
                        <div class="info-card">
                            <h4>💾 Physical Files</h4>
                            <p>Data Files (dữ liệu), Control Files (cấu trúc), Redo Log Files (transaction log)</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- S3: Cài đặt & Kết nối -->
            <section class="card" id="s3">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10 20l4-16m-4 4h4"/>
                        </svg>
                    </div>
                    <div class="card-title">3. Hướng dẫn cài đặt Oracle 12c và cách kết nối cơ bản</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Anh ơi, cài Oracle chắc phức tạp hơn cài MySQL nhỉ? Em cài MySQL phát là chạy, còn nhớ lần trước thử cài Oracle mà rối quá, nào là Oracle Home, Listener loạn cả.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    <em>(Cười)</em> Đúng là Oracle "nặng đô" hơn. Để anh hướng dẫn từng bước:
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h4>📋 1. Chuẩn bị cài đặt</h4>
                        <ul class="styled-list">
                            <li><strong>Hệ điều hành:</strong> Oracle chạy tốt nhất trên Linux/Unix. Bản cho Windows cũng có nhưng ít dùng production. Dev thì có thể cài trên Windows cho tiện học, hoặc dùng máy ảo Linux.</li>
                            <li><strong>Cấu hình máy:</strong> Oracle 12c yêu cầu RAM kha khá (tối thiểu ~2GB để chạy ổn), đĩa vài chục GB trống.</li>
                            <li><strong>Tài khoản Oracle:</strong> Cần có account trên oracle.com để download</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>🛠️ 2. Cài đặt phần mềm Oracle</h4>
                        <ul class="styled-list">
                            <li>Tải bộ cài Oracle Database 12c (ví dụ 12.1 hoặc 12.2) từ trang Oracle</li>
                            <li>Giải nén và chạy trình cài đặt (Oracle Universal Installer)</li>
                            <li>Chọn <strong>ORACLE_BASE</strong> (thư mục gốc) và <strong>ORACLE_HOME</strong> (thư mục phần mềm)</li>
                            <li>Chọn tạo Database mới luôn với DBCA (Database Configuration Assistant)</li>
                        </ul>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Lúc trước em thấy có bước đặt SID nữa?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Đúng. <strong>SID (System Identifier)</strong> là tên định danh instance. Em đặt tên SID (ví dụ ORCL). Nếu chạy nhiều Oracle instance trên một máy, mỗi cái phải có SID khác nhau.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Vậy sau khi cài xong, Oracle sẽ chạy luôn ạ?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Thường lúc cài xong, nó tạo xong database và mở instance luôn. Em sẽ có một database mẫu (ví dụ ORCL) với các user mặc định (SYS, SYSTEM...).
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4>⚠️ Lưu ý quan trọng khi cài đặt</h4>
                        <ul class="styled-list">
                            <li>Nhớ mật khẩu SYS và SYSTEM - đây là tài khoản admin</li>
                            <li>Ghi nhớ Oracle Home path và SID</li>
                            <li>Listener sẽ được tự động cấu hình trên port 1521</li>
                            <li>Kiểm tra firewall nếu kết nối từ xa</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>🔌 3. Kết nối đến Oracle Database</h4>
                        <p>Có nhiều cách để kết nối đến Oracle:</p>
                    </div>

                    <div class="example-box">
                        <div class="example-box-header">
                            <span class="example-box-title">SQL: Các kiểu kết nối</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Cách 1: Kết nối local với OS Authentication</span>
<span class="sql-keyword">sqlplus</span> / <span class="sql-keyword">as</span> sysdba

<span class="sql-comment">-- Cách 2: Kết nối với username/password</span>
<span class="sql-keyword">sqlplus</span> system/password@localhost:1521/ORCL

<span class="sql-comment">-- Cách 3: Kết nối đến PDB trong CDB</span>
<span class="sql-keyword">sqlplus</span> hr/password@localhost:1521/PDB1

<span class="sql-comment">-- Cách 4: Sử dụng Easy Connect</span>
<span class="sql-keyword">sqlplus</span> system/password@//hostname:1521/service_name</code></div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Anh ơi, em thấy có nhiều cách kết nối quá. Cái nào dùng nhiều nhất vậy?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Trong thực tế, DBA thường dùng <strong>sqlplus / as sysdba</strong> để quản trị local. Còn application thì dùng connection string với TNS hoặc Easy Connect. Quan trọng là phải hiểu service name và SID khác nhau như thế nào.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Service name với SID khác gì anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    <strong>SID</strong> là tên instance (ví dụ ORCL), còn <strong>Service Name</strong> là tên logic của database service. Trong 12c với CDB/PDB, service name quan trọng hơn vì nó xác định em kết nối vào CDB hay PDB nào. Ví dụ: SID=ORCL nhưng có service name là ORCL (cho CDB) và PDB1 (cho pluggable database).
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🏠 ORACLE_HOME</h4>
                            <p>Thư mục chứa phần mềm Oracle: binaries, libraries, admin utilities</p>
                        </div>
                        <div class="info-card">
                            <h4>📁 ORACLE_BASE</h4>
                            <p>Thư mục gốc chứa tất cả: software, databases, logs, admin files</p>
                        </div>
                        <div class="info-card">
                            <h4>🔊 TNS Listener</h4>
                            <p>Process lắng nghe kết nối từ client, mặc định port 1521</p>
                        </div>
                        <div class="info-card">
                            <h4>🌐 Service Name</h4>
                            <p>Tên logic của database service, quan trọng trong môi trường CDB/PDB</p>
                        </div>
                    </div>

                    <div class="example-box">
                        <div class="example-box-header">
                            <span class="example-box-title">SQL: Lệnh kiểm tra</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Kiểm tra service names hiện có</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">SELECT</span> name, pdb <span class="sql-keyword">FROM</span> v$services <span class="sql-keyword">ORDER BY</span> name;

<span class="sql-comment">-- Kiểm tra listener status</span>
$ lsnrctl status

<span class="sql-comment">-- Kiểm tra instance hiện tại</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">SELECT</span> instance_name, status <span class="sql-keyword">FROM</span> v$instance;

<span class="sql-comment">-- Kiểm tra PDBs trong CDB</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">SHOW</span> PDBS;</code></div>
                    </div>
                </div>
            </section>

            <!-- S4: Schema & Tablespace -->
            <section class="card" id="s4">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3h18v18H3zM9 9h6v6H9z"/>
                        </svg>
                    </div>
                    <div class="card-title">4. Quản lý Schema & Tablespace</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Anh ơi, em hiểu database và table rồi, nhưng Schema và Tablespace trong Oracle là gì vậy? Nghe lạ quá.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Đây là hai khái niệm quan trọng mà dev chuyển DBA phải nắm rõ:<br><br>
                                    <strong>Schema</strong> là tập hợp các object (bảng, view, index, procedure...) thuộc về một user. Trong Oracle, khi tạo user thì tự động có schema cùng tên. Ví dụ user HR thì có schema HR chứa các bảng EMPLOYEES, DEPARTMENTS...<br><br>
                                    <strong>Tablespace</strong> là nơi lưu trữ vật lý của dữ liệu. Nó gồm một hoặc nhiều data files trên đĩa. Khi tạo bảng, em phải chỉ định bảng đó thuộc tablespace nào.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">À, hiểu rồi. Schema = logic (object của user), Tablespace = physical (file trên đĩa).</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Đúng! Em nắm rất nhanh. Relationship là: User → Schema → Objects → Tablespace → Data Files.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="architecture-diagram">
                        <h4 style="margin-bottom: 16px;">Mối quan hệ Schema - Tablespace - Data Files</h4>
                        <div style="margin-bottom: 12px;">
                            <span class="arch-component">USER: HR</span>
                            <span style="margin: 0 8px;">→</span>
                            <span class="arch-component">SCHEMA: HR</span>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <span class="arch-component">TABLES: EMPLOYEES, DEPARTMENTS</span>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <span style="margin: 0 8px;">↓</span>
                        </div>
                        <div style="margin-bottom: 12px;">
                            <span class="arch-component arch-file">TABLESPACE: USERS</span>
                        </div>
                        <div>
                            <span class="arch-component arch-file">DATA FILE: /u01/app/oracle/oradata/ORCL/users01.dbf</span>
                        </div>
                    </div>

                    <div class="content-section">
                        <h4>🏗️ Tạo Tablespace</h4>
                        <p>Trước khi tạo user và schema, DBA thường tạo tablespace riêng cho ứng dụng:</p>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Tạo Tablespace</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Tạo tablespace cho ứng dụng HR</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">TABLESPACE</span> hr_data
<span class="sql-keyword">DATAFILE</span> <span class="sql-string">'/u01/app/oracle/oradata/ORCL/hr_data01.dbf'</span>
<span class="sql-keyword">SIZE</span> <span class="sql-number">100</span>M
<span class="sql-keyword">AUTOEXTEND</span> <span class="sql-keyword">ON</span>
<span class="sql-keyword">NEXT</span> <span class="sql-number">10</span>M
<span class="sql-keyword">MAXSIZE</span> <span class="sql-number">1</span>G
<span class="sql-keyword">EXTENT</span> <span class="sql-keyword">MANAGEMENT</span> <span class="sql-keyword">LOCAL</span>
<span class="sql-keyword">UNIFORM</span> <span class="sql-keyword">SIZE</span> <span class="sql-number">1</span>M;

<span class="sql-comment">-- Tạo temporary tablespace</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">TEMPORARY</span> <span class="sql-keyword">TABLESPACE</span> hr_temp
<span class="sql-keyword">TEMPFILE</span> <span class="sql-string">'/u01/app/oracle/oradata/ORCL/hr_temp01.dbf'</span>
<span class="sql-keyword">SIZE</span> <span class="sql-number">50</span>M
<span class="sql-keyword">AUTOEXTEND</span> <span class="sql-keyword">ON</span>;</code></div>
                    </div>

                    <div class="content-section">
                        <h4>👤 Tạo User và gán Tablespace</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Tạo User</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Tạo user HR</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">USER</span> hr
<span class="sql-keyword">IDENTIFIED</span> <span class="sql-keyword">BY</span> <span class="sql-string">"HrPassword123"</span>
<span class="sql-keyword">DEFAULT</span> <span class="sql-keyword">TABLESPACE</span> hr_data
<span class="sql-keyword">TEMPORARY</span> <span class="sql-keyword">TABLESPACE</span> hr_temp
<span class="sql-keyword">QUOTA</span> <span class="sql-keyword">UNLIMITED</span> <span class="sql-keyword">ON</span> hr_data;

<span class="sql-comment">-- Gán quyền cơ bản</span>
<span class="sql-keyword">GRANT</span> <span class="sql-keyword">CONNECT</span>, <span class="sql-keyword">RESOURCE</span> <span class="sql-keyword">TO</span> hr;

<span class="sql-comment">-- Kiểm tra user đã tạo</span>
<span class="sql-keyword">SELECT</span> username, default_tablespace, temporary_tablespace
<span class="sql-keyword">FROM</span> dba_users
<span class="sql-keyword">WHERE</span> username = <span class="sql-string">'HR'</span>;</code></div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">Sao lại có cả temporary tablespace nữa vậy anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Khi Oracle thực hiện các thao tác cần nhiều memory như sort, join lớn, group by... mà RAM không đủ, nó sẽ dùng temporary tablespace để ghi tạm. Đây là disk space dành riêng cho việc này, không lưu dữ liệu thực của bảng.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">QUOTA UNLIMITED là sao anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Đó là giới hạn dung lượng user được phép dùng trong tablespace. UNLIMITED nghĩa là không giới hạn (trong phạm vi tablespace). Em cũng có thể set cụ thể như QUOTA 500M ON hr_data.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4>⚠️ Best Practices cho Tablespace</h4>
                        <ul class="styled-list">
                            <li><strong>Tách biệt:</strong> Mỗi ứng dụng nên có tablespace riêng</li>
                            <li><strong>Sizing:</strong> Ước tính kích thước ban đầu và growth rate</li>
                            <li><strong>AUTOEXTEND:</strong> Nên bật với MAXSIZE hợp lý để tránh đầy đĩa</li>
                            <li><strong>Multiple datafiles:</strong> Tablespace lớn nên có nhiều datafile để phân tải I/O</li>
                            <li><strong>Monitoring:</strong> Theo dõi dung lượng sử dụng thường xuyên</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>📊 Monitoring Tablespace</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Monitoring Tablespace</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Xem thông tin tablespace</span>
<span class="sql-keyword">SELECT</span> tablespace_name, 
       <span class="sql-function">ROUND</span>(bytes/<span class="sql-number">1024</span>/<span class="sql-number">1024</span>, <span class="sql-number">2</span>) <span class="sql-keyword">AS</span> total_mb,
       <span class="sql-function">ROUND</span>(maxbytes/<span class="sql-number">1024</span>/<span class="sql-number">1024</span>, <span class="sql-number">2</span>) <span class="sql-keyword">AS</span> max_mb,
       autoextensible
<span class="sql-keyword">FROM</span> dba_data_files
<span class="sql-keyword">ORDER</span> <span class="sql-keyword">BY</span> tablespace_name;

<span class="sql-comment">-- Xem dung lượng sử dụng</span>
<span class="sql-keyword">SELECT</span> t.tablespace_name,
       <span class="sql-function">ROUND</span>(t.total_space/<span class="sql-number">1024</span>/<span class="sql-number">1024</span>, <span class="sql-number">2</span>) <span class="sql-keyword">AS</span> total_mb,
       <span class="sql-function">ROUND</span>(f.free_space/<span class="sql-number">1024</span>/<span class="sql-number">1024</span>, <span class="sql-number">2</span>) <span class="sql-keyword">AS</span> free_mb,
       <span class="sql-function">ROUND</span>((t.total_space - f.free_space)/<span class="sql-number">1024</span>/<span class="sql-number">1024</span>, <span class="sql-number">2</span>) <span class="sql-keyword">AS</span> used_mb,
       <span class="sql-function">ROUND</span>(((t.total_space - f.free_space)/t.total_space)*<span class="sql-number">100</span>, <span class="sql-number">2</span>) <span class="sql-keyword">AS</span> pct_used
<span class="sql-keyword">FROM</span> (<span class="sql-keyword">SELECT</span> tablespace_name, <span class="sql-function">SUM</span>(bytes) total_space
      <span class="sql-keyword">FROM</span> dba_data_files 
      <span class="sql-keyword">GROUP</span> <span class="sql-keyword">BY</span> tablespace_name) t,
     (<span class="sql-keyword">SELECT</span> tablespace_name, <span class="sql-function">SUM</span>(bytes) free_space
      <span class="sql-keyword">FROM</span> dba_free_space 
      <span class="sql-keyword">GROUP</span> <span class="sql-keyword">BY</span> tablespace_name) f
<span class="sql-keyword">WHERE</span> t.tablespace_name = f.tablespace_name
<span class="sql-keyword">ORDER</span> <span class="sql-keyword">BY</span> pct_used <span class="sql-keyword">DESC</span>;</code></div>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🗂️ SYSTEM Tablespace</h4>
                            <p>Chứa data dictionary, system objects. Không nên tạo user objects ở đây</p>
                        </div>
                        <div class="info-card">
                            <h4>🔄 SYSAUX Tablespace</h4>
                            <p>Auxiliary tablespace cho SYSTEM, chứa các components như AWR, Stats</p>
                        </div>
                        <div class="info-card">
                            <h4>⏰ TEMP Tablespace</h4>
                            <p>Dành cho temporary operations: sorting, hashing, temp tables</p>
                        </div>
                        <div class="info-card">
                            <h4>🔄 UNDO Tablespace</h4>
                            <p>Chứa undo data cho transaction rollback và read consistency</p>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>💡 Schema Design Tips</h4>
                        <ul class="styled-list">
                            <li><strong>Naming Convention:</strong> Dùng tên schema có ý nghĩa (HR, SALES, FINANCE)</li>
                            <li><strong>Object Privileges:</strong> Grant quyền cụ thể thay vì DBA role</li>
                            <li><strong>Default Tablespace:</strong> Luôn chỉ định tablespace phù hợp</li>
                            <li><strong>Resource Limits:</strong> Thiết lập quota và profile limits</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- S5: Tối ưu SQL & Performance -->
            <section class="card" id="s5">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <div class="card-title">5. Tối ưu SQL & Performance Tuning</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Anh ơi, đây chính là phần em quan tâm nhất! SQL của em chạy chậm, anh DBA cũ hay chửi "lại SELECT * nữa rồi", "execution plan thế này mà không biết optimize". Em muốn hiểu làm sao để viết SQL nhanh và biết đọc execution plan.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    <em>(Cười)</em> Aha, đây là "cuộc chiến" kinh điển giữa dev và DBA đây. Để anh chỉ em cách tư duy như DBA về performance. Nguyên tắc số 1: <strong>Oracle Optimizer quyết định execution plan dựa trên statistics và cost</strong>. Nhiệm vụ của ta là viết SQL giúp Optimizer chọn plan tối ưu.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Cost là gì vậy anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    <strong>Cost</strong> là ước tính của Oracle về "độ đắt" của một operation, tính theo CPU time và I/O operations. Oracle Optimizer sẽ chọn plan có total cost thấp nhất. Vì vậy để SQL nhanh, ta phải hiểu Oracle đang "nghĩ" gì qua execution plan.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h4>🔍 Cách xem Execution Plan</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Xem Execution Plan</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Cách 1: EXPLAIN PLAN</span>
<span class="sql-keyword">EXPLAIN</span> <span class="sql-keyword">PLAN</span> <span class="sql-keyword">FOR</span>
<span class="sql-keyword">SELECT</span> e.first_name, e.last_name, d.department_name
<span class="sql-keyword">FROM</span> employees e
<span class="sql-keyword">JOIN</span> departments d <span class="sql-keyword">ON</span> e.department_id = d.department_id
<span class="sql-keyword">WHERE</span> e.salary > <span class="sql-number">5000</span>;

<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> <span class="sql-function">TABLE</span>(<span class="sql-function">DBMS_XPLAN.DISPLAY</span>);

<span class="sql-comment">-- Cách 2: Autotrace (hiển thị statistics thực tế)</span>
<span class="sql-keyword">SET</span> <span class="sql-keyword">AUTOTRACE</span> <span class="sql-keyword">ON</span>
<span class="sql-keyword">SELECT</span> e.first_name, e.last_name, d.department_name
<span class="sql-keyword">FROM</span> employees e
<span class="sql-keyword">JOIN</span> departments d <span class="sql-keyword">ON</span> e.department_id = d.department_id
<span class="sql-keyword">WHERE</span> e.salary > <span class="sql-number">5000</span>;

<span class="sql-comment">-- Cách 3: SQL*Plus với actual execution</span>
<span class="sql-keyword">SELECT</span> <span class="sql-comment">/*+ GATHER_PLAN_STATISTICS */</span> 
       e.first_name, e.last_name, d.department_name
<span class="sql-keyword">FROM</span> employees e
<span class="sql-keyword">JOIN</span> departments d <span class="sql-keyword">ON</span> e.department_id = d.department_id
<span class="sql-keyword">WHERE</span> e.salary > <span class="sql-number">5000</span>;

<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> <span class="sql-function">TABLE</span>(<span class="sql-function">DBMS_XPLAN.DISPLAY_CURSOR</span>(null, null, <span class="sql-string">'ALLSTATS LAST'</span>));</code></div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">Plan đọc như thế nào anh? Em thấy toàn chữ lạ: TABLE ACCESS FULL, INDEX RANGE SCAN...</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Quan trọng nhất là hiểu các loại access method:<br><br>
                                    • <strong>TABLE ACCESS FULL:</strong> Quét toàn bộ bảng từ đầu đến cuối<br>
                                    • <strong>INDEX RANGE SCAN:</strong> Dùng index để tìm data, rất nhanh<br>
                                    • <strong>INDEX UNIQUE SCAN:</strong> Tìm 1 record duy nhất qua unique index<br>
                                    • <strong>NESTED LOOPS:</strong> Join method - vòng lặp lồng nhau<br>
                                    • <strong>HASH JOIN:</strong> Join bằng hash table, tốt cho large data sets<br><br>
                                    Nguyên tắc: INDEX SCAN > FULL TABLE SCAN với bảng lớn.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">Vậy làm sao để Oracle dùng index thay vì full table scan anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Đây là câu hỏi then chốt! Có vài điều kiện:<br>
                                    1. <strong>Phải có index</strong> trên cột WHERE<br>
                                    2. <strong>Condition phải selective</strong> - tức là lọc được nhiều record<br>
                                    3. <strong>Statistics phải up-to-date</strong><br>
                                    4. <strong>Không dùng function</strong> trên cột index trong WHERE<br><br>
                                    Ví dụ WHERE UPPER(name) = 'JOHN' sẽ không dùng index trên cột name.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4>⚠️ Những lỗi SQL performance thường gặp</h4>
                        <ul class="styled-list">
                            <li><strong>SELECT *:</strong> Lấy thừa columns, tốn bandwidth và memory</li>
                            <li><strong>Không có WHERE:</strong> Full table scan không cần thiết</li>
                            <li><strong>Function trong WHERE:</strong> UPPER(), TO_CHAR() làm mất index</li>
                            <li><strong>Wrong join order:</strong> Join bảng lớn trước bảng nhỏ</li>
                            <li><strong>Missing indexes:</strong> Không có index trên FK và search columns</li>
                            <li><strong>Stale statistics:</strong> Statistics cũ làm Optimizer chọn sai plan</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>📈 SQL Tuning Techniques</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Good vs Bad Practices</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- ❌ BAD: Function trên indexed column</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> employees 
<span class="sql-keyword">WHERE</span> <span class="sql-function">UPPER</span>(last_name) = <span class="sql-string">'SMITH'</span>;

<span class="sql-comment">-- ✅ GOOD: Dùng function-based index hoặc store uppercase</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">INDEX</span> idx_emp_last_name_upper <span class="sql-keyword">ON</span> employees(<span class="sql-function">UPPER</span>(last_name));
<span class="sql-comment">-- Hoặc</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> employees 
<span class="sql-keyword">WHERE</span> last_name = <span class="sql-string">'SMITH'</span> <span class="sql-keyword">OR</span> last_name = <span class="sql-string">'smith'</span>;

<span class="sql-comment">-- ❌ BAD: Non-selective condition trước</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> employees 
<span class="sql-keyword">WHERE</span> department_id = <span class="sql-number">10</span> 
  <span class="sql-keyword">AND</span> employee_id = <span class="sql-number">100</span>;

<span class="sql-comment">-- ✅ GOOD: Selective condition trước  </span>
<span class="sql-keyword">SELECT</span> employee_id, first_name, last_name, salary
<span class="sql-keyword">FROM</span> employees 
<span class="sql-keyword">WHERE</span> employee_id = <span class="sql-number">100</span> 
  <span class="sql-keyword">AND</span> department_id = <span class="sql-number">10</span>;

<span class="sql-comment">-- ❌ BAD: Implicit conversion</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> employees 
<span class="sql-keyword">WHERE</span> employee_id = <span class="sql-string">'100'</span>;  <span class="sql-comment">-- String so với number</span>

<span class="sql-comment">-- ✅ GOOD: Explicit type</span>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> employees 
<span class="sql-keyword">WHERE</span> employee_id = <span class="sql-number">100</span>;</code></div>
                    </div>

                    <div class="content-section">
                        <h4>🎯 Index Strategy</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Index Strategy</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Tạo index cho WHERE conditions thường dùng</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">INDEX</span> idx_emp_dept_salary <span class="sql-keyword">ON</span> employees(department_id, salary);

<span class="sql-comment">-- Composite index: column order quan trọng</span>
<span class="sql-comment">-- Tốt cho: WHERE department_id = ? AND salary > ?</span>
<span class="sql-comment">-- Không tốt cho: WHERE salary > ? (không có department_id)</span>

<span class="sql-comment">-- Index cho JOIN columns (Foreign Keys)</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">INDEX</span> idx_emp_dept_fk <span class="sql-keyword">ON</span> employees(department_id);
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">INDEX</span> idx_emp_job_fk <span class="sql-keyword">ON</span> employees(job_id);

<span class="sql-comment">-- Unique index cho business keys</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">UNIQUE</span> <span class="sql-keyword">INDEX</span> idx_emp_email <span class="sql-keyword">ON</span> employees(email);

<span class="sql-comment">-- Kiểm tra index usage</span>
<span class="sql-keyword">SELECT</span> index_name, table_name, uniqueness, status
<span class="sql-keyword">FROM</span> user_indexes
<span class="sql-keyword">WHERE</span> table_name = <span class="sql-string">'EMPLOYEES'</span>;</code></div>
                    </div>

                    <div class="highlight-box">
                        <h4>💡 Performance Monitoring Queries</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Monitoring Performance</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Top SQL statements by elapsed time</span>
<span class="sql-keyword">SELECT</span> sql_id, 
       child_number,
       elapsed_time/executions/<span class="sql-number">1000</span> <span class="sql-keyword">as</span> avg_elapsed_ms,
       executions,
       <span class="sql-function">SUBSTR</span>(sql_text, <span class="sql-number">1</span>, <span class="sql-number">100</span>) <span class="sql-keyword">as</span> sql_text
<span class="sql-keyword">FROM</span> v$sql 
<span class="sql-keyword">WHERE</span> executions > <span class="sql-number">0</span>
<span class="sql-keyword">ORDER</span> <span class="sql-keyword">BY</span> elapsed_time/executions <span class="sql-keyword">DESC</span>
<span class="sql-keyword">FETCH</span> <span class="sql-keyword">FIRST</span> <span class="sql-number">10</span> <span class="sql-keyword">ROWS</span> <span class="sql-keyword">ONLY</span>;

<span class="sql-comment">-- Table không có index (full table scans nhiều)</span>
<span class="sql-keyword">SELECT</span> owner, table_name, num_rows
<span class="sql-keyword">FROM</span> dba_tables
<span class="sql-keyword">WHERE</span> table_name <span class="sql-keyword">NOT</span> <span class="sql-keyword">IN</span> (
  <span class="sql-keyword">SELECT</span> table_name 
  <span class="sql-keyword">FROM</span> dba_indexes 
  <span class="sql-keyword">WHERE</span> table_owner = owner
)
<span class="sql-keyword">AND</span> num_rows > <span class="sql-number">1000</span>
<span class="sql-keyword">ORDER</span> <span class="sql-keyword">BY</span> num_rows <span class="sql-keyword">DESC</span>;

<span class="sql-comment">-- Session đang chờ gì</span>
<span class="sql-keyword">SELECT</span> sid, event, wait_time, seconds_in_wait
<span class="sql-keyword">FROM</span> v$session_wait
<span class="sql-keyword">WHERE</span> wait_time = <span class="sql-number">0</span>
<span class="sql-keyword">ORDER</span> <span class="sql-keyword">BY</span> seconds_in_wait <span class="sql-keyword">DESC</span>;</code></div>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🔍 B-Tree Index</h4>
                            <p>Mặc định, tốt cho equality và range scans. Không index NULL values</p>
                        </div>
                        <div class="info-card">
                            <h4>🎯 Bitmap Index</h4>
                            <p>Tốt cho low-cardinality columns (gender, status) trong data warehouses</p>
                        </div>
                        <div class="info-card">
                            <h4>⚡ Function-Based Index</h4>
                            <p>Index trên expressions: UPPER(name), TO_CHAR(date), complex calculations</p>
                        </div>
                        <div class="info-card">
                            <h4>📊 Statistics</h4>
                            <p>Gather regularly với DBMS_STATS để Optimizer có thông tin chính xác</p>
                        </div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Anh ơi, statistics này update thế nào? Có tự động không?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Oracle có job tự động gather stats, nhưng DBA nên chủ động update sau khi load data lớn. Lệnh quan trọng là DBMS_STATS.GATHER_TABLE_STATS.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Gather Statistics</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Update statistics cho table</span>
<span class="sql-keyword">EXEC</span> <span class="sql-function">DBMS_STATS.GATHER_TABLE_STATS</span>(<span class="sql-string">'HR'</span>, <span class="sql-string">'EMPLOYEES'</span>);

<span class="sql-comment">-- Update statistics cho toàn schema</span>
<span class="sql-keyword">EXEC</span> <span class="sql-function">DBMS_STATS.GATHER_SCHEMA_STATS</span>(<span class="sql-string">'HR'</span>);

<span class="sql-comment">-- Xem thông tin statistics</span>
<span class="sql-keyword">SELECT</span> table_name, num_rows, blocks, last_analyzed
<span class="sql-keyword">FROM</span> user_tables
<span class="sql-keyword">WHERE</span> table_name = <span class="sql-string">'EMPLOYEES'</span>;</code></div>
                    </div>
                </div>
            </section>

            <!-- S6: Backup & Recovery -->
            <section class="card" id="s6">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <path d="M14 2v6h6"/>
                            <path d="M12 18v-6"/>
                            <path d="M9 15l3 3 3-3"/>
                        </svg>
                    </div>
                    <div class="card-title">6. Backup & Recovery - "Job #1 của DBA"</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Anh ơi, sếp em nói "backup is job #1", em hiểu tầm quan trọng. Nhưng Oracle backup phức tạp quá, nghe nói có RMAN, hot backup, cold backup... Em chóng mặt luôn.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    <em>(Nghiêm túc)</em> Sếp em nói đúng! DBA có thể làm sai nhiều thứ, nhưng không backup được thì... <strong>toi</strong>. Để anh giải thích từ cơ bản: Oracle có 2 chế độ archive log và 3 loại backup chính.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Archive log là gì anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Oracle ghi mọi thay đổi vào <strong>redo log files</strong>. Khi redo log đầy, Oracle chuyển sang file khác. Trong <strong>NOARCHIVELOG mode</strong>, file cũ bị ghi đè. Trong <strong>ARCHIVELOG mode</strong>, Oracle copy file cũ thành archived log trước khi ghi đè. Chế độ này cho phép recovery đến bất kỳ thời điểm nào!
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4>⚠️ ARCHIVELOG vs NOARCHIVELOG</h4>
                        <ul class="styled-list">
                            <li><strong>NOARCHIVELOG:</strong> Chỉ recovery đến thời điểm backup cuối, mất data giữa các backup</li>
                            <li><strong>ARCHIVELOG:</strong> Recovery đến bất kỳ thời điểm nào, zero data loss (với đủ archive logs)</li>
                            <li><strong>Production database PHẢI dùng ARCHIVELOG mode!</strong></li>
                        </ul>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Archive Log Mode</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Kiểm tra archive log mode</span>
<span class="sql-keyword">SQL></span> <span class="sql-keyword">SELECT</span> log_mode <span class="sql-keyword">FROM</span> v$database;

<span class="sql-comment">-- Enable archive log mode</span>
<span class="sql-keyword">SHUTDOWN</span> <span class="sql-keyword">IMMEDIATE</span>;
<span class="sql-keyword">STARTUP</span> <span class="sql-keyword">MOUNT</span>;
<span class="sql-keyword">ALTER</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">ARCHIVELOG</span>;
<span class="sql-keyword">ALTER</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">OPEN</span>;

<span class="sql-comment">-- Kiểm tra archive log destination</span>
<span class="sql-keyword">SHOW</span> <span class="sql-keyword">PARAMETER</span> LOG_ARCHIVE_DEST_1;

<span class="sql-comment">-- Xem archive log files</span>
<span class="sql-keyword">SELECT</span> name, sequence#, first_time, next_time
<span class="sql-keyword">FROM</span> v$archived_log
<span class="sql-keyword">ORDER</span> <span class="sql-keyword">BY</span> sequence# <span class="sql-keyword">DESC</span>;</code></div>
                    </div>

                    <div class="content-section">
                        <h4>🎯 Ba loại Backup Strategy</h4>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>❄️ Cold Backup</h4>
                            <p>Shutdown database → Copy tất cả files → Startup. Đơn giản nhưng downtime cao</p>
                        </div>
                        <div class="info-card">
                            <h4>🔥 Hot Backup</h4>
                            <p>Backup khi database đang chạy. Cần ARCHIVELOG mode. Phức tạp nhưng zero downtime</p>
                        </div>
                        <div class="info-card">
                            <h4>🤖 RMAN Backup</h4>
                            <p>Oracle Recovery Manager - tool chính thức, tự động, nén, kiểm tra corruption</p>
                        </div>
                        <div class="info-card">
                            <h4>📸 Data Pump</h4>
                            <p>Logical backup - export/import objects, không thể point-in-time recovery</p>
                        </div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Thực tế nên dùng loại nào anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Production system <strong>PHẢI dùng RMAN</strong>. Nó có compression, block-level backup, automatic corruption detection, catalog management. Cold/Hot backup chỉ dùng trong trường hợp đặc biệt hoặc học tập.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h4>🤖 RMAN Backup Examples</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">RMAN: Backup Commands</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Connect to RMAN</span>
$ rman target /

<span class="sql-comment">-- Full database backup</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">PLUS</span> <span class="sql-keyword">ARCHIVELOG</span>;

<span class="sql-comment">-- Incremental backup (chỉ backup blocks thay đổi)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">INCREMENTAL</span> <span class="sql-keyword">LEVEL</span> <span class="sql-number">0</span> <span class="sql-keyword">DATABASE</span>;  <span class="sql-comment">-- Base backup</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">INCREMENTAL</span> <span class="sql-keyword">LEVEL</span> <span class="sql-number">1</span> <span class="sql-keyword">DATABASE</span>;  <span class="sql-comment">-- Changes since level 0</span>

<span class="sql-comment">-- Backup specific tablespace</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">TABLESPACE</span> users;

<span class="sql-comment">-- Backup to specific location with compression</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">AS</span> <span class="sql-keyword">COMPRESSED</span> <span class="sql-keyword">BACKUPSET</span> 
      <span class="sql-keyword">DATABASE</span> 
      <span class="sql-keyword">FORMAT</span> <span class="sql-string">'/backup/db_%d_%s_%p_%T.bkp'</span>;

<span class="sql-comment">-- List backups</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">LIST</span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">SUMMARY</span>;

<span class="sql-comment">-- Validate backup (kiểm tra corruption)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">VALIDATE</span> <span class="sql-keyword">BACKUPSET</span> <span class="sql-number">123</span>;</code></div>
                    </div>

                    <div class="content-section">
                        <h4>🔄 Recovery Scenarios</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">RMAN: Recovery Scenarios</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Complete database recovery (sau hardware failure)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">STARTUP</span> <span class="sql-keyword">MOUNT</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RESTORE</span> <span class="sql-keyword">DATABASE</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RECOVER</span> <span class="sql-keyword">DATABASE</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">ALTER</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">OPEN</span>;

<span class="sql-comment">-- Point-in-time recovery (rollback đến thời điểm cụ thể)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">STARTUP</span> <span class="sql-keyword">MOUNT</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">SET</span> <span class="sql-keyword">UNTIL</span> <span class="sql-keyword">TIME</span> <span class="sql-string">"TO_DATE('2023-12-01 14:30:00','YYYY-MM-DD HH24:MI:SS')"</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RESTORE</span> <span class="sql-keyword">DATABASE</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RECOVER</span> <span class="sql-keyword">DATABASE</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">ALTER</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">OPEN</span> <span class="sql-keyword">RESETLOGS</span>;

<span class="sql-comment">-- Tablespace recovery (database vẫn chạy)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">SQL</span> <span class="sql-string">"ALTER TABLESPACE users OFFLINE IMMEDIATE"</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RESTORE</span> <span class="sql-keyword">TABLESPACE</span> users;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RECOVER</span> <span class="sql-keyword">TABLESPACE</span> users;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">SQL</span> <span class="sql-string">"ALTER TABLESPACE users ONLINE"</span>;

<span class="sql-comment">-- Datafile recovery</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">SQL</span> <span class="sql-string">"ALTER DATABASE DATAFILE ''/path/to/datafile'' OFFLINE"</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RESTORE</span> <span class="sql-keyword">DATAFILE</span> <span class="sql-string">''/path/to/datafile''</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RECOVER</span> <span class="sql-keyword">DATAFILE</span> <span class="sql-string">''/path/to/datafile''</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">SQL</span> <span class="sql-string">"ALTER DATABASE DATAFILE ''/path/to/datafile'' ONLINE"</span>;</code></div>
                    </div>

                    <div class="highlight-box">
                        <h4>🎯 RMAN Best Practices</h4>
                        <ul class="styled-list">
                            <li><strong>Regular backups:</strong> Full backup hàng tuần, incremental backup hàng ngày</li>
                            <li><strong>Test recovery:</strong> Định kỳ test restore procedures trên môi trường khác</li>
                            <li><strong>Archive log management:</strong> Tự động delete archived logs sau khi backup</li>
                            <li><strong>Catalog database:</strong> Dùng recovery catalog thay vì control file</li>
                            <li><strong>Offsite backup:</strong> Copy backup files to remote location</li>
                        </ul>
                    </div>

                    <div class="content-section">
                        <h4>📋 Backup Schedule Example</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">BASH: Backup Script</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Daily incremental backup script</span>
<span class="sql-keyword">#!/bin/bash</span>
<span class="sql-keyword">export</span> ORACLE_SID=ORCL
<span class="sql-keyword">export</span> ORACLE_HOME=/u01/app/oracle/product/12.2.0/dbhome_1
<span class="sql-keyword">export</span> PATH=$ORACLE_HOME/bin:$PATH

rman target / <<EOF
<span class="sql-keyword">CONFIGURE</span> RETENTION POLICY <span class="sql-keyword">TO</span> RECOVERY WINDOW <span class="sql-keyword">OF</span> 30 DAYS;
<span class="sql-keyword">CONFIGURE</span> BACKUP OPTIMIZATION <span class="sql-keyword">ON</span>;
<span class="sql-keyword">CONFIGURE</span> DEFAULT DEVICE TYPE <span class="sql-keyword">TO</span> DISK;
<span class="sql-keyword">CONFIGURE</span> CONTROLFILE AUTOBACKUP <span class="sql-keyword">ON</span>;

<span class="sql-keyword">BACKUP</span> INCREMENTAL <span class="sql-keyword">LEVEL</span> 1 <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">PLUS</span> ARCHIVELOG;
<span class="sql-keyword">DELETE</span> NOPROMPT OBSOLETE;
<span class="sql-keyword">EXIT</span>;
EOF

<span class="sql-comment">-- Weekly full backup</span>
<span class="sql-keyword">BACKUP</span> <span class="sql-keyword">AS</span> COMPRESSED BACKUPSET 
<span class="sql-keyword">INCREMENTAL</span> <span class="sql-keyword">LEVEL</span> 0 
<span class="sql-keyword">DATABASE</span> 
<span class="sql-keyword">PLUS</span> ARCHIVELOG 
<span class="sql-keyword">TAG</span> <span class="sql-string">'WEEKLY_FULL'</span>
<span class="sql-keyword">FORMAT</span> <span class="sql-string">'/backup/weekly_full_%d_%T_%s_%p.bkp'</span>;</code></div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Anh ơi, trong thực tế bao lâu backup một lần? Và làm sao biết backup có work không?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Tùy business requirement, nhưng thông thường:<br>
                                    • <strong>Full backup:</strong> Weekly<br>
                                    • <strong>Incremental backup:</strong> Daily<br>
                                    • <strong>Archive log backup:</strong> Mỗi 15-30 phút<br><br>
                                    Để verify backup, em phải <strong>test restore thường xuyên</strong>. Backup không test = không có backup! Nhiều DBA đã khóc vì backup corrupt khi cần recovery.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">RMAN: Validation</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Test backup integrity</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RESTORE</span> <span class="sql-keyword">DATABASE</span> <span class="sql-keyword">VALIDATE</span>;

<span class="sql-comment">-- Test specific backup piece</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">RESTORE</span> <span class="sql-keyword">BACKUPSET</span> <span class="sql-number">123</span> <span class="sql-keyword">VALIDATE</span>;

<span class="sql-comment">-- Crosscheck backups (kiểm tra files còn tồn tại)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">CROSSCHECK</span> <span class="sql-keyword">BACKUP</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">DELETE</span> <span class="sql-keyword">EXPIRED</span> <span class="sql-keyword">BACKUP</span>;

<span class="sql-comment">-- Report backup summary</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">REPORT</span> <span class="sql-keyword">SCHEMA</span>;
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">REPORT</span> <span class="sql-keyword">NEED</span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">DAYS</span> <span class="sql-number">7</span>;</code></div>
                    </div>
                </div>
            </section>

            <!-- S7: Tư duy Dev vs DBA -->
            <section class="card" id="s7">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <div class="card-title">7. Tư duy Dev vs DBA - Hợp tác để thành công</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Qua mấy chương vừa rồi, em hiểu tại sao các anh DBA hay "khó tính" với code SQL của dev rồi. Giờ em muốn biết làm sao để dev và DBA hợp tác tốt hơn, không cãi nhau nữa.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    <em>(Mỉm cười)</em> Tốt, em đã "thấu hiểu" DBA rồi đấy! Thực ra xung đột Dev-DBA thường đến từ <strong>khác biệt về priorities và perspectives</strong>. Dev focus vào feature và deadline, DBA focus vào stability và performance. Cả hai đều đúng, chỉ cần hiểu nhau.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-section">
                        <h4>⚖️ Sự khác biệt tư duy</h4>
                    </div>

                    <div class="info-grid">
                        <div class="info-card" style="border-left: 4px solid var(--blue-400);">
                            <h4>👨‍💻 Developer Mindset</h4>
                            <ul class="styled-list" style="margin: 8px 0; padding-left: 0;">
                                <li>Feature-driven development</li>
                                <li>Fast iteration, ship quickly</li>
                                <li>"Make it work first"</li>
                                <li>Individual application focus</li>
                                <li>Code reusability & maintainability</li>
                            </ul>
                        </div>
                        <div class="info-card" style="border-left: 4px solid var(--green-400);">
                            <h4>🛡️ DBA Mindset</h4>
                            <ul class="styled-list" style="margin: 8px 0; padding-left: 0;">
                                <li>Stability & reliability first</li>
                                <li>Performance & scalability</li>
                                <li>"Prevent problems before they happen"</li>
                                <li>Whole system perspective</li>
                                <li>Data integrity & security</li>
                            </ul>
                        </div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Em thấy đúng quá! Dev như em thường nghĩ "chạy được rồi ship thôi", còn DBA lại lo "chạy được hôm nay, mai mốt có chết không?"</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Chính xác! DBA phải nghĩ long-term. Một câu SQL chạy nhanh với 1000 records hôm nay có thể làm chết server với 1 triệu records sau 6 tháng. Đó là lý do tại sao DBA "khó tính" về performance từ đầu.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>🤝 Best Practices cho Dev-DBA Collaboration</h4>
                    </div>

                    <div class="content-section">
                        <h4>1. 📋 Database Design Review</h4>
                        <p>DBA nên tham gia từ giai đoạn thiết kế database schema, không chỉ khi production có vấn đề.</p>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">SQL: Dev vs DBA Schema Design</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Dev proposal: Simple design</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">TABLE</span> user_activities (
    id <span class="sql-keyword">NUMBER</span> <span class="sql-keyword">PRIMARY</span> <span class="sql-keyword">KEY</span>,
    user_id <span class="sql-keyword">NUMBER</span>,
    activity_type <span class="sql-keyword">VARCHAR2</span>(<span class="sql-number">50</span>),
    activity_data <span class="sql-keyword">CLOB</span>,
    created_date <span class="sql-keyword">DATE</span>
);

<span class="sql-comment">-- DBA feedback: Performance & scalability improvements</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">TABLE</span> user_activities (
    id <span class="sql-keyword">NUMBER</span> <span class="sql-keyword">PRIMARY</span> <span class="sql-keyword">KEY</span>,
    user_id <span class="sql-keyword">NUMBER</span> <span class="sql-keyword">NOT</span> <span class="sql-keyword">NULL</span>,
    activity_type_id <span class="sql-keyword">NUMBER</span> <span class="sql-keyword">NOT</span> <span class="sql-keyword">NULL</span>,  <span class="sql-comment">-- FK to lookup table</span>
    activity_data <span class="sql-keyword">CLOB</span>,
    created_date <span class="sql-keyword">DATE</span> <span class="sql-keyword">DEFAULT</span> <span class="sql-function">SYSDATE</span>,
    <span class="sql-comment">-- Partitioning for large tables</span>
    <span class="sql-keyword">CONSTRAINT</span> fk_user_activities_user 
        <span class="sql-keyword">FOREIGN</span> <span class="sql-keyword">KEY</span> (user_id) <span class="sql-keyword">REFERENCES</span> users(id),
    <span class="sql-keyword">CONSTRAINT</span> fk_user_activities_type 
        <span class="sql-keyword">FOREIGN</span> <span class="sql-keyword">KEY</span> (activity_type_id) <span class="sql-keyword">REFERENCES</span> activity_types(id)
)
<span class="sql-keyword">PARTITION</span> <span class="sql-keyword">BY</span> <span class="sql-keyword">RANGE</span> (created_date) 
<span class="sql-keyword">INTERVAL</span> (<span class="sql-function">NUMTOYMINTERVAL</span>(<span class="sql-number">1</span>,<span class="sql-string">'MONTH'</span>))
(<span class="sql-keyword">PARTITION</span> p_initial <span class="sql-keyword">VALUES</span> <span class="sql-keyword">LESS</span> <span class="sql-keyword">THAN</span> (<span class="sql-keyword">DATE</span> <span class="sql-string">'2023-01-01'</span>));

<span class="sql-comment">-- Indexes for common queries</span>
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">INDEX</span> idx_user_activities_user_date 
    <span class="sql-keyword">ON</span> user_activities(user_id, created_date);
<span class="sql-keyword">CREATE</span> <span class="sql-keyword">INDEX</span> idx_user_activities_type_date 
    <span class="sql-keyword">ON</span> user_activities(activity_type_id, created_date);</code></div>
                    </div>

                    <div class="content-section">
                        <h4>2. 🔍 SQL Code Review Process</h4>
                    </div>

                    <div class="warning-box">
                        <h4>🚫 Common SQL Anti-patterns (DBA sẽ reject)</h4>
                        <ul class="styled-list">
                            <li><strong>SELECT * FROM large_table:</strong> Unnecessary data transfer</li>
                            <li><strong>Missing WHERE clause:</strong> Full table scans</li>
                            <li><strong>N+1 queries:</strong> Loop trong code gọi SQL nhiều lần</li>
                            <li><strong>No connection pooling:</strong> Tạo/đóng connection liên tục</li>
                            <li><strong>Hard-coded values:</strong> Không dùng bind variables</li>
                        </ul>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">Code: N+1 Problem & Solution</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- ❌ Dev code: N+1 problem (Python example)</span>
<span class="sql-keyword">for</span> user <span class="sql-keyword">in</span> users:
    activities = query(<span class="sql-string">"SELECT * FROM user_activities WHERE user_id = "</span> + user.id)
    process(activities)

<span class="sql-comment">-- ✅ DBA suggestion: Batch processing</span>
user_ids = [user.id <span class="sql-keyword">for</span> user <span class="sql-keyword">in</span> users]
all_activities = query(<span class="sql-string">"""
    SELECT user_id, activity_type, activity_data, created_date
    FROM user_activities 
    WHERE user_id IN ({})
    ORDER BY user_id, created_date
"""</span>.<span class="sql-function">format</span>(<span class="sql-string">','</span>.join(<span class="sql-function">map</span>(str, user_ids))))

<span class="sql-comment">-- Group by user_id and process</span></code></div>
                    </div>

                    <div class="content-section">
                        <h4>3. 📊 Monitoring & Alerting Collaboration</h4>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🚨 Dev Responsibilities</h4>
                            <ul style="font-size: 0.9rem; padding-left: 16px;">
                                <li>Application-level monitoring</li>
                                <li>Error logging & notification</li>
                                <li>Business metrics tracking</li>
                                <li>Connection pool monitoring</li>
                            </ul>
                        </div>
                        <div class="info-card">
                            <h4>📈 DBA Responsibilities</h4>
                            <ul style="font-size: 0.9rem; padding-left: 16px;">
                                <li>Database performance monitoring</li>
                                <li>Resource utilization alerts</li>
                                <li>Backup/recovery verification</li>
                                <li>Security & compliance auditing</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-section">
                        <h4>4. 🚀 Production Deployment Protocol</h4>
                    </div>

                    <div class="example-box">
                         <div class="example-box-header">
                            <span class="example-box-title">Checklist</span>
                             <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Pre-deployment checklist</span>
<span class="sql-comment">-- DBA reviews:</span>
✓ Schema changes (DDL scripts)
✓ Index creation strategy (online vs offline)
✓ Rollback procedures
✓ Expected performance impact
✓ Backup status verification

<span class="sql-comment">-- Dev responsibilities:</span>
✓ Test scripts on staging with production-like data volume
✓ Provide execution plans for new queries
✓ Document expected load patterns
✓ Prepare monitoring dashboards

<span class="sql-comment">-- Deployment day:</span>
✓ DBA performs schema changes during maintenance window
✓ Dev deploys application code
✓ Joint monitoring for first 24 hours
✓ Performance validation & rollback readiness</code></div>
                    </div>

                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Nghe có vẻ process khá nặng đó anh. Trong startup nhỏ có cần nghiêm ngặt thế không?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Tùy stage của công ty. Startup giai đoạn đầu thì <strong>"move fast and break things"</strong> cũng được. Nhưng khi có customer trả tiền và reputation quan trọng thì phải có process. <strong>Tốt nhất là build habit từ sớm</strong> - viết SQL tốt, review code, backup đều đặn.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">Em hiểu. Vậy anh có lời khuyên cuối cùng cho em không?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                             <div class="speech-wrap">
                                <div class="speech-content">
                                    Chuyển từ Dev sang DBA không dễ, nhưng em có advantage: <strong>hiểu được nhu cầu thực tế của development</strong>. Dùng cái đó để build bridge giữa dev team và operations. Remember: <strong>DBA's job is to enable developers, not block them</strong>. Và cuối cùng - <em>always have a backup plan</em>! 😄
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- S6: Backup & Recovery -->
            <section class="card" id="s6">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                    </div>
                    <div class="card-title">6. Backup & Recovery - "Job #1" của DBA</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Anh ơi, anh hay nói "Backup is Job #1". Vậy backup trong Oracle phức tạp không? Em từng backup MySQL bằng mysqldump thôi.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Oracle backup phức tạp hơn MySQL nhiều, nhưng cũng mạnh mẽ hơn. Có 2 loại chính: <strong>Physical backup</strong> (sao chép data files) và <strong>Logical backup</strong> (export data). Quan trọng nhất là <strong>RMAN (Recovery Manager)</strong> - công cụ backup chính thức của Oracle.
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">RMAN khác gì với export/import anh?</div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    <strong>RMAN</strong> backup toàn bộ database ở level block, có thể recovery đến thời điểm bất kỳ. <strong>Export/Import</strong> chỉ backup data logic (như mysqldump), không thể point-in-time recovery. Production luôn dùng RMAN.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="example-box">
                        <div class="example-box-header">
                            <span class="example-box-title">RMAN: Basic Backup Commands</span>
                            <button class="copy-button" onclick="copyCode(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5 .124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 4.625v2.625a2.625 2.625 0 11-5.25 0v-2.625m0-3.875V9.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v3.5m-8.625-1.125a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /></svg>
                                <span>Sao chép</span>
                            </button>
                        </div>
                        <div class="example-box-content"><code><span class="sql-comment">-- Kết nối RMAN</span>
$ rman target /

<span class="sql-comment">-- Full backup database</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">DATABASE</span>;

<span class="sql-comment">-- Backup with compression và tag</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">AS</span> <span class="sql-keyword">COMPRESSED</span> <span class="sql-keyword">BACKUPSET</span> 
        <span class="sql-keyword">DATABASE</span> 
        <span class="sql-keyword">TAG</span> <span class="sql-string">'DAILY_BACKUP'</span>;

<span class="sql-comment">-- Incremental backup (chỉ backup thay đổi)</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">INCREMENTAL</span> <span class="sql-keyword">LEVEL</span> <span class="sql-number">1</span> <span class="sql-keyword">DATABASE</span>;

<span class="sql-comment">-- Backup archive logs</span>
<span class="sql-keyword">RMAN></span> <span class="sql-keyword">BACKUP</span> <span class="sql-keyword">ARCHIVELOG</span> <span class="sql-keyword">ALL</span>;</code></div>
                    </div>

                    <div class="warning-box">
                        <h4>⚠️ Backup Strategy Best Practices</h4>
                        <ul class="styled-list">
                            <li><strong>3-2-1 Rule:</strong> 3 copies, 2 different media, 1 offsite</li>
                            <li><strong>Test restores:</strong> Backup chưa test = không có backup</li>
                            <li><strong>Archive log mode:</strong> Bắt buộc cho production</li>
                            <li><strong>Retention policy:</strong> Định nghĩa bao lâu giữ backup</li>
                            <li><strong>Monitor backup jobs:</strong> Alert khi backup fail</li>
                        </ul>
                    </div>

                    <div class="info-grid">
                        <div class="info-card">
                            <h4>🔄 Full Backup</h4>
                            <p>Backup toàn bộ database. Tốn thời gian nhưng restore nhanh nhất</p>
                        </div>
                        <div class="info-card">
                            <h4>📈 Incremental Backup</h4>
                            <p>Chỉ backup blocks thay đổi. Nhanh nhưng restore phức tạp hơn</p>
                        </div>
                        <div class="info-card">
                            <h4>📜 Archive Log Backup</h4>
                            <p>Backup transaction logs cho point-in-time recovery</p>
                        </div>
                        <div class="info-card">
                            <h4>⚡ Hot Backup</h4>
                            <p>Backup khi database đang chạy (không downtime)</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- S7: Tư duy Dev vs DBA -->
            <section class="card" id="s7">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <div class="card-title">7. Tư duy Dev vs DBA - Collaboration is Key</div>
                </div>
                <div class="card-body">
                    <div class="dialogue">
                        <div class="dialogue-item dev-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Anh ơi, sau hành trình này em hiểu DBA khó thật. Vậy làm sao để dev và DBA làm việc hiệu quả với nhau?
                                </div>
                            </div>
                        </div>

                        <div class="dialogue-item dba-speech">
                            <div class="speech-wrap">
                                <div class="speech-content">
                                    Câu hỏi hay! Dev và DBA có góc nhìn khác nhau nhưng cùng mục tiêu: <strong>ứng dụng chạy tốt, ổn định, nhanh</strong>. Để collaboration hiệu quả, cả hai bên cần hiểu nhau.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="architecture-diagram">
                        <h4 style="margin-bottom: 16px;">Dev vs DBA Mindset</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: left;">
                            <div style="padding: 15px; background: var(--blue-50); border-radius: 8px;">
                                <h5>👨‍💻 Developer Mindset</h5>
                                <ul style="margin: 10px 0; font-size: 0.9rem;">
                                    <li>Feature-driven</li>
                                    <li>Fast delivery</li>
                                    <li>Code flexibility</li>
                                    <li>"Make it work first"</li>
                                </ul>
                            </div>
                            <div style="padding: 15px; background: var(--green-50); border-radius: 8px;">
                                <h5>🛡️ DBA Mindset</h5>
                                <ul style="margin: 10px 0; font-size: 0.9rem;">
                                    <li>Stability-focused</li>
                                    <li>Performance-first</li>
                                    <li>Risk management</li>
                                    <li>"Plan for scale"</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>🤝 Collaboration Best Practices</h4>
                        <ul class="styled-list">
                            <li><strong>Code Review với DBA:</strong> DBA review SQL performance trước khi deploy</li>
                            <li><strong>Database Design Sessions:</strong> Cùng thiết kế schema, indexes từ đầu</li>
                            <li><strong>Performance Testing:</strong> Test với production-like data</li>
                            <li><strong>Monitoring Together:</strong> Dùng chung dashboard, alert system</li>
                            <li><strong>Knowledge Sharing:</strong> Dev hiểu execution plans, DBA hiểu business logic</li>
                        </ul>
                    </div>

                    <div class="tips-box">
                        <h3>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke-width="2">
                                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                            Lời khuyên cuối từ DBA
                        </h3>
                        <ul class="styled-list">
                            <li><strong>Học không ngừng:</strong> Oracle luôn phát triển, follow Oracle blogs & communities</li>
                            <li><strong>Thực hành nhiều:</strong> Setup lab environment, break things & fix them</li>
                            <li><strong>Network with DBAs:</strong> Join Oracle user groups, conferences</li>
                            <li><strong>Understand business:</strong> DBA tốt phải hiểu business requirements</li>
                            <li><strong>Document everything:</strong> Procedures, configurations, lessons learned</li>
                            <li><strong>Stay humble:</strong> Oracle có thể surprise em bất cứ lúc nào! 😅</li>
                        </ul>
                    </div>

                    <div class="highlight-box">
                        <h4>🎓 Chúc mừng bạn đã hoàn thành khóa học!</h4>
                        <p>
                            Từ một Developer, giờ bạn đã có foundation vững chắc để trở thành Oracle DBA. 
                            Hành trình 100 giờ học tập không dễ dàng, nhưng bạn đã vượt qua! 
                            Hãy tiếp tục thực hành, học hỏi và remember: <strong>"Backup is Job #1"</strong> và 
                            <strong>"Always explain your execution plans"</strong>! 
                        </p>
                        <p>
                            <em>Good luck trên con đường DBA! 🚀</em>
                        </p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Enhanced Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"/>
                    </svg>
                    <span>Oracle 12c DBA Master Course</span>
                </div>
                <div class="footer-text">
                    © 2025 Interactive Oracle 12c DBA Course - Made with ❤️ for Oracle Community
                </div>
            </div>
        </div>
    </footer>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <button class="fab scroll-top" id="scrollTopBtn" onclick="scrollToTop()" title="Scroll to top">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
                <path d="M18 15l-6-6-6 6"/>
            </svg>
        </button>
        <button class="fab" onclick="toggleFullscreen()" title="Toggle Fullscreen">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
            </svg>
        </button>
        <button class="fab" onclick="printContent()" title="Print Content">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                <polyline points="6,9 6,2 18,2 18,9"/>
                <path d="M6,18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2H20a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H18"/>
                <polyline points="6,14 6,22 18,22 18,14"/>
            </svg>
        </button>
    </div>

    <script>
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
                localStorage.setItem('theme', 'light');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                toggleTheme();
            }
        }

        // Search functionality
        function searchContent() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const searchResults = document.getElementById('searchResults');
            
            if (query.length < 2) {
                searchResults.style.display = 'none';
                return;
            }

            // Search data - in real implementation, this would be more comprehensive
            const searchData = [
                { title: 'Kiến trúc Oracle 12c', content: 'CDB Container Database PDB Pluggable Database Multitenant', section: '#s2' },
                { title: 'Cài đặt Oracle', content: 'Installation ORACLE_HOME ORACLE_BASE Listener TNS', section: '#s3' },
                { title: 'Schema và Tablespace', content: 'User Schema Tablespace Data Files Storage', section: '#s4' },
                { title: 'SQL Performance', content: 'Execution Plan Index Optimization Tuning', section: '#s5' },
                { title: 'Backup Recovery', content: 'RMAN Backup Restore Recovery Hot Cold', section: '#s6' },
                { title: 'Dev vs DBA', content: 'Developer Database Administrator Mindset Collaboration', section: '#s7' }
            ];

            const results = searchData.filter(item => 
                item.title.toLowerCase().includes(query) || 
                item.content.toLowerCase().includes(query)
            );

            if (results.length > 0) {
                searchResults.innerHTML = results.map(result => `
                    <div class="search-result-item" onclick="navigateToSection('${result.section}')">
                        <div class="search-result-title">${result.title}</div>
                        <div class="search-result-content">Click to navigate to this section</div>
                    </div>
                `).join('');
                searchResults.style.display = 'block';
            } else {
                searchResults.innerHTML = '<div class="search-result-item"><div class="search-result-title">No results found</div></div>';
                searchResults.style.display = 'block';
            }
        }

        function navigateToSection(section) {
            document.getElementById('searchResults').style.display = 'none';
            document.getElementById('searchInput').value = '';
            
            const targetElement = document.querySelector(section);
            if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Enhanced copy function
        function copyCode(button) {
            const codeBlock = button.closest('.example-box').querySelector('.example-box-content code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalHTML = button.innerHTML;
                button.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="16" height="16">
                        <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.052-.143z" clip-rule="evenodd" />
                    </svg>
                    <span>Đã sao chép!</span>
                `;
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                }, 2000);
            }).catch(err => {
                console.error('Copy failed:', err);
            });
        }

        // Enhanced interactive functions
        function scrollToSection(sectionId) {
            const element = document.querySelector(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                showNotification('Đang điều hướng đến section...', 'info');
            }
        }

        function animateCard(card) {
            card.style.transform = 'scale(1.1) rotateY(10deg)';
            setTimeout(() => {
                card.style.transform = 'scale(1.05) rotateY(5deg)';
            }, 200);
            
            showNotification('🎉 Oracle 12c Architecture Demo!', 'success');
        }

        function highlightTip(tipElement) {
            // Remove highlight from other tips
            document.querySelectorAll('.tip-interactive').forEach(tip => {
                tip.classList.remove('highlighted');
            });
            
            // Add highlight to clicked tip
            tipElement.classList.add('highlighted');
            
            // Auto-remove highlight after animation
            setTimeout(() => {
                tipElement.classList.remove('highlighted');
            }, 2000);
            
            showNotification('💡 Tip được lưu vào ghi chú!', 'success');
        }

        function getRandomTip() {
            const tips = [
                'Luôn backup trước khi thực hiện thay đổi lớn!',
                'Sử dụng EXPLAIN PLAN để hiểu cách Oracle thực thi SQL.',
                'Kiểm tra tablespace usage thường xuyên để tránh hết dung lượng.',
                'Học cách đọc AWR reports để phân tích performance.',
                'Index không phải lúc nào cũng tốt - đôi khi full table scan nhanh hơn!',
                'Hiểu về CDB và PDB architecture trong Oracle 12c.',
                'RMAN backup có thể chạy song song để tăng tốc độ.',
                'Monitoring alert log files là thói quen tốt của DBA.',
                'Statistics cũ có thể làm optimizer chọn execution plan tệ.',
                'Collaboration giữa Dev và DBA là chìa khóa thành công!'
            ];
            
            const randomTip = tips[Math.floor(Math.random() * tips.length)];
            const tipElement = document.getElementById('daily-tip');
            
            if (tipElement) {
                tipElement.style.opacity = '0';
                setTimeout(() => {
                    tipElement.textContent = randomTip;
                    tipElement.style.opacity = '1';
                }, 300);
            }
            
            showNotification('🎲 Tip mới đã được tạo!', 'info');
        }

        function showNotification(message, type = 'success') {
            // Remove existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: '✅',
                error: '❌',
                warning: '⚠️',
                info: 'ℹ️'
            };
            
            notification.innerHTML = `
                <span class="notification-icon">${icons[type] || icons.info}</span>
                <span>${message}</span>
                <button class="notification-close" onclick="this.parentElement.remove()">&times;</button>
            `;
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Auto-hide after 4 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 4000);
        }

        function updateLearningPath(currentSection) {
            const steps = document.querySelectorAll('.path-step');
            
            steps.forEach((step, index) => {
                const stepNumber = index + 1;
                step.classList.remove('completed', 'current');
                
                if (stepNumber < Math.ceil(currentSection / 2.5)) {
                    step.classList.add('completed');
                } else if (stepNumber === Math.ceil(currentSection / 2.5)) {
                    step.classList.add('current');
                }
            });
        }

        // Progress tracking
        function updateProgress(section) {
            const progress = (section / 7) * 100;
            const progressBar = document.getElementById('progress-bar');
            const progressPercent = document.getElementById('progress-percent');
            const progressRing = document.getElementById('progressRing');
            
            if (progressBar) progressBar.style.width = `${progress}%`;
            if (progressPercent) progressPercent.textContent = `${Math.round(progress)}%`;
            
            // Update circular progress ring
            if (progressRing) {
                const circumference = 2 * Math.PI * 45; // radius = 45
                const offset = circumference - (progress / 100) * circumference;
                progressRing.style.strokeDashoffset = offset;
            }
            
            // Update statistics
            const completedChapters = document.getElementById('completed-chapters');
            const studyTime = document.getElementById('study-time');
            const completionRate = document.getElementById('completion-rate');
            
            if (completedChapters) completedChapters.textContent = section;
            if (studyTime) studyTime.textContent = Math.round(section * 14.3); // ~100 hours / 7 chapters
            if (completionRate) completionRate.textContent = Math.round(progress);
            
            // Update learning path
            updateLearningPath(section);
            
            // Save progress with timestamp
            localStorage.setItem('courseProgress', section);
            localStorage.setItem('lastStudyTime', new Date().toISOString());
            
            // Show progress notification
            if (section > 1) { // Don't show for initial load
                showNotification(`Tiến độ đã cập nhật: ${Math.round(progress)}%!`, 'success');
            }
        }

        // Demo functionality
        function showDemo(type) {
            const demos = {
                'overview': {
                    title: 'Oracle 12c DBA Course Overview',
                    content: `
                        <h3>🎓 Welcome to Oracle 12c DBA Interactive Course</h3>
                        <div style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); padding: 20px; border-radius: 12px; margin: 15px 0;">
                            <h4 style="color: #0369a1; margin-bottom: 15px;">📊 Course Statistics</h4>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: bold; color: #0284c7;">7</div>
                                    <div style="font-size: 0.9rem; color: #64748b;">Chapters</div>
                                </div>
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: bold; color: #0284c7;">100+</div>
                                    <div style="font-size: 0.9rem; color: #64748b;">Hours Content</div>
                                </div>
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: bold; color: #0284c7;">50+</div>
                                    <div style="font-size: 0.9rem; color: #64748b;">Code Examples</div>
                                </div>
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 8px;">
                                    <div style="font-size: 2rem; font-weight: bold; color: #0284c7;">15+</div>
                                    <div style="font-size: 0.9rem; color: #64748b;">Interactive Demos</div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="demo-button" onclick="startLearningJourney()">🚀 Start Learning Journey</button>
                            <button class="demo-button" onclick="showDemo('architecture')">🏗️ Architecture Demo</button>
                            <button class="demo-button" onclick="showDemo('sql')">⚡ SQL Performance</button>
                        </div>
                    `
                },
                'architecture': {
                    title: 'Oracle 12c Architecture Interactive Demo',
                    content: `
                        <h3>🏗️ CDB/PDB Architecture Simulation</h3>
                        <p>Explore Oracle 12c Multitenant Architecture:</p>
                        <div style="font-family: monospace; background: #1e293b; color: #e2e8f0; padding: 20px; border-radius: 12px; margin: 15px 0; font-size: 0.9rem; line-height: 1.6;">
                            <div style="color: #fbbf24; font-weight: bold;">💼 CDB$ROOT (Container Database)</div>
                            <div style="margin-left: 20px; color: #a78bfa;">├── 🌱 PDB$SEED (Template)</div>
                            <div style="margin-left: 20px; color: #34d399;">├── 👥 HR_PDB (HR Application)</div>
                            <div style="margin-left: 20px; color: #60a5fa;">├── 📊 SALES_PDB (Sales Application)</div>
                            <div style="margin-left: 20px; color: #f87171;">└── 💰 FINANCE_PDB (Finance Application)</div>
                        </div>
                        <div style="margin: 20px 0;">
                            <h4>Try connecting to different PDBs:</h4>
                            <button class="demo-button" onclick="simulateConnection('HR_PDB')">Connect to HR_PDB</button>
                            <button class="demo-button" onclick="simulateConnection('SALES_PDB')">Connect to SALES_PDB</button>
                            <button class="demo-button" onclick="simulateConnection('FINANCE_PDB')">Connect to FINANCE_PDB</button>
                        </div>
                        <div id="connectionResults" style="margin-top: 15px;"></div>
                    `
                },
                'sql': {
                    title: 'SQL Performance Analyzer',
                    content: `
                        <h3>⚡ Execution Plan Analyzer & Optimizer</h3>
                        <div style="margin: 15px 0;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Enter your SQL query:</label>
                            <textarea id="sqlInput" placeholder="SELECT e.first_name, e.last_name, d.department_name FROM employees e JOIN departments d ON e.department_id = d.department_id WHERE e.salary > 5000;" style="width: 100%; height: 120px; margin: 10px 0; padding: 15px; border-radius: 8px; border: 1px solid #d1d5db; font-family: monospace; font-size: 0.9rem;"></textarea>
                        </div>
                        <div style="margin: 15px 0;">
                            <button class="demo-button" onclick="analyzeQuery()">📊 Analyze Performance</button>
                            <button class="demo-button" onclick="generateSampleQueries()">🎲 Load Sample Query</button>
                        </div>
                        <div id="queryResult" style="margin-top: 20px;"></div>
                    `
                },
                'backup': {
                    title: 'RMAN Backup & Recovery Simulator',
                    content: `
                        <h3>💾 RMAN Backup Strategy Simulator</h3>
                        <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin: 15px 0; border-left: 4px solid #0284c7;">
                            <h4 style="color: #0369a1; margin-bottom: 10px;">📈 Current Database Status</h4>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 0.9rem;">
                                <div>Database Size: <strong>2.5 GB</strong></div>
                                <div>Archive Mode: <strong style="color: #059669;">ENABLED</strong></div>
                                <div>Last Backup: <strong>2 days ago</strong></div>
                                <div>Recovery Window: <strong>7 days</strong></div>
                            </div>
                        </div>
                        <p style="margin-bottom: 15px;">Choose your backup strategy:</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-bottom: 20px;">
                            <button class="demo-button" onclick="simulateBackup('FULL')">🔄 Full Backup</button>
                            <button class="demo-button" onclick="simulateBackup('INCREMENTAL')">📈 Incremental</button>
                            <button class="demo-button" onclick="simulateBackup('ARCHIVELOG')">📜 Archive Log</button>
                            <button class="demo-button" onclick="simulateBackup('CROSSCHECK')">✓ Crosscheck</button>
                        </div>
                        <div id="backupResult" style="margin-top: 20px;"></div>
                    `
                }
            };

            const demo = demos[type];
            if (demo) {
                showModal(demo.title, demo.content);
            }
        }

        // Enhanced simulation functions
        function startLearningJourney() {
            scrollToSection('#s1');
            setTimeout(() => {
                showNotification('🎓 Welcome to your Oracle DBA journey! Starting with Chapter 1...', 'success');
            }, 500);
        }

        function generateSampleQueries() {
            const sampleQueries = [
                "SELECT e.first_name, e.last_name, d.department_name FROM employees e JOIN departments d ON e.department_id = d.department_id WHERE e.salary > 5000;",
                "SELECT COUNT(*) FROM employees WHERE hire_date > SYSDATE - 365;",
                "SELECT department_id, AVG(salary) FROM employees GROUP BY department_id HAVING AVG(salary) > 8000;",
                "SELECT * FROM employees WHERE UPPER(last_name) LIKE 'SMITH%';",
                "SELECT e.employee_id, e.first_name, m.first_name as manager_name FROM employees e LEFT JOIN employees m ON e.manager_id = m.employee_id;"
            ];
            
            const randomQuery = sampleQueries[Math.floor(Math.random() * sampleQueries.length)];
            const sqlInput = document.getElementById('sqlInput');
            if (sqlInput) {
                sqlInput.value = randomQuery;
                showNotification('🎲 Sample query loaded!', 'info');
            }
        }

        // Modal functionality
        function showModal(title, content) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.5); z-index: 10000;
                display: flex; align-items: center; justify-content: center;
                padding: 20px;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white; border-radius: 12px; padding: 30px;
                    max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto;
                    position: relative;
                ">
                    <button onclick="this.closest('div').parentElement.remove()" style="
                        position: absolute; top: 15px; right: 15px;
                        background: none; border: none; font-size: 24px; cursor: pointer;
                    ">&times;</button>
                    <h2 style="margin: 0 30px 20px 0; color: #333;">${title}</h2>
                    ${content}
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // Simulation functions
        function simulateConnection(pdb) {
            const result = `
                <div style="background: #d4edda; padding: 10px; border-radius: 4px; margin: 10px 0;">
                    ✅ Successfully connected to ${pdb}<br>
                    Service Name: ${pdb.toLowerCase()}<br>
                    Status: OPEN<br>
                    Connection String: localhost:1521/${pdb.toLowerCase()}
                </div>
            `;
            
            const container = document.createElement('div');
            container.innerHTML = result;
            event.target.parentNode.appendChild(container);
        }

        function analyzeQuery() {
            const resultDiv = document.getElementById('queryResult');
            resultDiv.innerHTML = `
                <div style="background: #fff3cd; padding: 15px; border-radius: 4px; border-left: 4px solid #ffc107;">
                    <h4>📊 Execution Plan Analysis:</h4>
                    <ul>
                        <li>Cost: 145 (Medium)</li>
                        <li>Rows: ~1,000</li>
                        <li>Operation: INDEX RANGE SCAN ✅</li>
                        <li>Recommendation: Query is well optimized</li>
                    </ul>
                    <p><strong>Tip:</strong> Consider adding WHERE clause to reduce result set.</p>
                </div>
            `;
        }

        function simulateBackup(type) {
            const resultDiv = document.getElementById('backupResult');
            const backupInfo = {
                'FULL': { time: '45 minutes', size: '2.5GB', recovery: 'Point-in-time' },
                'INCREMENTAL': { time: '15 minutes', size: '500MB', recovery: 'Since last backup' },
                'ARCHIVELOG': { time: '5 minutes', size: '100MB', recovery: 'Transaction log' }
            };
            
            const info = backupInfo[type];
            resultDiv.innerHTML = `
                <div style="background: #d1ecf1; padding: 15px; border-radius: 4px; border-left: 4px solid #17a2b8;">
                    <h4>💾 ${type} Backup Status:</h4>
                    <div class="loading-spinner" style="margin: 10px 0;"></div>
                    <p>Estimated Time: ${info.time}</p>
                    <p>Estimated Size: ${info.size}</p>
                    <p>Recovery Type: ${info.recovery}</p>
                    <p><strong>Status:</strong> <span style="color: green;">✅ Completed Successfully</span></p>
                </div>
            `;
        }

        // Utility functions
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        function printContent() {
            window.print();
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            
            // Load saved progress
            const savedProgress = localStorage.getItem('courseProgress');
            if (savedProgress) {
                updateProgress(parseInt(savedProgress));
            }

            // Enhanced navigation
            const navLinks = document.querySelectorAll('.nav a[href^="#"]');
            const sections = document.querySelectorAll('.content section[id]');
            const scrollTopBtn = document.getElementById('scrollTopBtn');

            function updateNavigation() {
                let current = '';
                const scrollPosition = window.scrollY + 100;

                sections.forEach((section) => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach((link) => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });

                // Show/hide scroll button
                if (scrollTopBtn) {
                    if (window.scrollY > 500) {
                        scrollTopBtn.classList.add('visible');
                    } else {
                        scrollTopBtn.classList.remove('visible');
                    }
                }
            }

            // Smooth scroll for navigation
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // Enhanced card interactions
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-3px)';
                    this.style.boxShadow = '0 12px 30px rgba(0,0,0,.08)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 4px 20px rgba(0,0,0,.06)';
                });
            });

            // Hide search results when clicking outside
            document.addEventListener('click', function(e) {
                const searchContainer = document.querySelector('.search-container');
                const searchResults = document.getElementById('searchResults');
                
                if (searchResults && !searchContainer.contains(e.target)) {
                    searchResults.style.display = 'none';
                }
            });

            window.addEventListener('scroll', updateNavigation);
            updateNavigation();
            
            // Add some nice entrance animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            // Observe dialogue items for animation
            document.querySelectorAll('.dialogue-item').forEach(item => {
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
                item.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(item);
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl+K or Cmd+K for search
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }
            
            // ESC to close modals and search
            if (e.key === 'Escape') {
                const modal = document.querySelector('div[style*="position: fixed"]');
                if (modal) modal.remove();
                
                document.getElementById('searchResults').style.display = 'none';
            }
        });
    </script>
</body>
</html>
